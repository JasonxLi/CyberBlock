(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(12),i=n.n(c),r=(n(108),n(52)),j=n(197),l=n(177),o=n(1),b=function(){return Object(o.jsx)("svg",{width:"150px",height:"50px",viewBox:"0 0 35 15 ",xmlns:"http://www.w3.org/2000/svg",children:Object(o.jsx)("path",{d:"m8.884 3.295c-.047-.582-.35-.923-.962-.923-.565 0-.914.357-.976.923zm.914.217c0 .186-.015.38-.046.535h-2.79c.1.465.495.752 1.24.752h.01l.007-.001a3.128 3.128 0 0 0 .212-.01l.058-.004a2.7 2.7 0 0 0 .874-.241l.064-.031c.055-.028.108-.058.16-.089h.024v.785c-.408.247-.887.39-1.4.39v-.003l-.055.002c-1.404 0-2.171-.798-2.171-1.961 0-1.248.79-2.07 1.938-2.07s1.876.814 1.876 1.946m-9.667 2.007h.954l.178-3.34.039-.907h.015l.202.907.775 3.34h1.195l.783-3.34.193-.907h.016l.039.907.186 3.34h.992l-.327-5.348h-1.58l-.714 3.21-.155.813h-.015l-.163-.814-.713-3.209h-1.582zm16.41.078c-.89 0-1.395-.41-1.395-1.34v-1.83h-1.07v1.945c0 .287.11.403.342.403.054 0 .116 0 .186-.015h.023v.76a2.082 2.082 0 0 1 -.418.046c-.528 0-.853-.201-.993-.643-.279.434-.72.674-1.27.674-.985 0-1.784-.767-1.784-2.023 0-1.24.799-2.008 1.783-2.008.488 0 .892.186 1.17.527v-1.922h.962v1.473h1.07v-.924h.96v.923h1.032v.783h-1.031v1.784c0 .387.193.573.566.573.17 0 .286-.015.441-.054h.024v.79a2.625 2.625 0 0 1 -.597.078m-4.395-.814c.65 0 1.015-.503 1.015-1.209 0-.698-.364-1.202-1.015-1.202-.66 0-1 .504-1 1.202 0 .706.34 1.21 1 1.21m6.38-1.295c0-.628.325-.977.945-.977.108 0 .225.015.333.047h.016v-.9a1.087 1.087 0 0 0 -.38-.062c-.465 0-.775.287-.954.752v-.705h-.922v3.876h.961zm3.348 2.108c-1.217 0-2.039-.884-2.039-2.015s.822-2.016 2.04-2.016c1.208 0 2.03.884 2.03 2.016s-.822 2.015-2.03 2.015m0-.83c.689 0 1.045-.503 1.045-1.185s-.356-1.186-1.046-1.186c-.674 0-1.054.503-1.054 1.186s.38 1.186 1.054 1.186m3.506-1.411c0-.597.302-.985.86-.985.55 0 .807.365.807.985v2.163h.96v-2.202c0-.93-.48-1.752-1.526-1.752-.558 0-.93.28-1.14.698v-.62h-.922v3.876h.961zm4.325-2.659c0 .31-.248.574-.573.574a.57.57 0 1 1 .573-.574m.536 4.822a2.392 2.392 0 0 1 -.473.054c-.737 0-1.132-.388-1.132-1.1v-2.83h.969v2.76c0 .255.124.38.388.38.061 0 .139-.009.224-.024h.024zm.092-1.938c0-1.132.822-2.016 2.047-2.016.349 0 .744.086 1.039.248v.853h-.024a1.8 1.8 0 0 0 -.945-.264c-.737 0-1.132.504-1.132 1.179s.395 1.178 1.132 1.178a1.8 1.8 0 0 0 .945-.264h.024v.853c-.295.163-.69.248-1.04.248-1.224 0-2.046-.884-2.046-2.015",fill:"#224a87"})})},d=function(e){var t=e.children;return Object(o.jsxs)(j.a,{sx:{overflow:"auto",positon:"relative"},children:[Object(o.jsxs)(j.a,{sx:{p:"2rem"},children:[Object(o.jsx)(b,{}),Object(o.jsx)(l.a,{})]}),t]})},h=n(147),u=n(7),O=n(16),x=n(150),f=n(13),m=n(86),v=n.n(m).a.connect("https://cyberblock.herokuapp.com/"),g=Object(a.createContext)({}),p=function(e){var t=e.children,n=Object(a.useState)("CONFIG"),s=Object(u.a)(n,2),c=s[0],i=s[1],r=Object(a.useState)(2),j=Object(u.a)(r,2),l=j[0],b=j[1],d=Object(a.useState)(5),h=Object(u.a)(d,2),O=h[0],x=h[1],m=Object(a.useState)(120),p=Object(u.a)(m,2),_=p[0],T=p[1],y=Object(a.useState)(!0),S=Object(u.a)(y,2),I=S[0],C=S[1],E=Object(a.useState)(1),D=Object(u.a)(E,2),w=D[0],A=D[1],N=Object(a.useState)(2),R=Object(u.a)(N,2),k=R[0],W=R[1],B=Object(a.useState)(!1),F=Object(u.a)(B,2),M=F[0],L=F[1],H=Object(a.useState)(!1),G=Object(u.a)(H,2),Y=G[0],U=G[1],Q=Object(a.useState)(""),P=Object(u.a)(Q,2),z=P[0],q=P[1],V=Object(a.useState)(""),K=Object(u.a)(V,2),J=K[0],$=K[1],X=Object(a.useState)([]),Z=Object(u.a)(X,2),ee=Z[0],te=Z[1],ne=Object(a.useState)(-1),ae=Object(u.a)(ne,2),se=ae[0],ce=ae[1],ie=Object(a.useState)(!1),re=Object(u.a)(ie,2),je=re[0],le=re[1],oe=Object(a.useState)(),be=Object(u.a)(oe,2),de=be[0],he=be[1],ue=Object(a.useState)(),Oe=Object(u.a)(ue,2),xe=Oe[0],fe=Oe[1],me=Object(a.useState)(!1),ve=Object(u.a)(me,2),ge=ve[0],pe=ve[1],_e=Object(a.useState)([]),Te=Object(u.a)(_e,2),ye=Te[0],Se=Te[1],Ie=Object(a.useState)(0),Ce=Object(u.a)(Ie,2),Ee=Ce[0],De=Ce[1],we=Object(a.useState)(40),Ae=Object(u.a)(we,2),Ne=Ae[0],Re=Ae[1],ke=Object(a.useState)([]),We=Object(u.a)(ke,2),Be=We[0],Fe=We[1],Me=Object(a.useState)([]),Le=Object(u.a)(Me,2),He=Le[0],Ge=Le[1],Ye=Object(a.useState)([]),Ue=Object(u.a)(Ye,2),Qe=Ue[0],Pe=Ue[1],ze=Object(a.useState)(""),qe=Object(u.a)(ze,2),Ve=qe[0],Ke=qe[1],Je=Object(a.useState)([]),$e=Object(u.a)(Je,2),Xe=$e[0],Ze=$e[1],et=Object(a.useState)([]),tt=Object(u.a)(et,2),nt=tt[0],at=tt[1],st=Object(a.useState)([]),ct=Object(u.a)(st,2),it=ct[0],rt=ct[1],jt=Object(a.useState)([]),lt=Object(u.a)(jt,2),ot=lt[0],bt=lt[1],dt=Object(a.useState)(!1),ht=Object(u.a)(dt,2),ut=ht[0],Ot=ht[1],xt=Object(a.useState)(!1),ft=Object(u.a)(xt,2),mt=ft[0],vt=ft[1],gt=Object(a.useState)([]),pt=Object(u.a)(gt,2),_t=pt[0],Tt=pt[1],yt=Object(a.useState)([]),St=Object(u.a)(yt,2),It=St[0],Ct=St[1],Et=Object(a.useState)(!0),Dt=Object(u.a)(Et,2),wt=Dt[0],At=Dt[1],Nt=Object(a.useState)(!0),Rt=Object(u.a)(Nt,2),kt=Rt[0],Wt=Rt[1];Object(a.useEffect)((function(){return v.on("new_student_joined_lobby",(function(e){te(e)})),v.on("host_moved_student",(function(e){te(e)})),v.on("host_started_game",(function(e){i(e?"TRIVIA":"BUY_DEFENSE")})),v.on("host_ended_trivia_round",(function(){i("BUY_DEFENSE")})),v.on("student_receives_trivia_question",(function(e){he(e),Se([]),pe(!1)})),v.on("student_submitted_trivia_answer",(function(e){Se(e)})),v.on("student_receive_defenses",(function(e){Fe(e)})),v.on("student_bought_defenses",(function(e){Pe(e)})),v.on("student_receive_attack",(function(e){var t=e.attack,n=e.playedDefenses;vt(!0),De((function(e){return e+1})),Ke(t),i("DEFEND_ATTACK"),Ot(!1),rt([]),bt(n)})),v.on("host_ended_game",(function(){i("GAME_END")})),v.on("student_played_defenses",(function(e){var t=e.scores,n=e.bestDefenses,a=e.playedDefenses;Ze(t),rt(n),bt(a)})),v.on("chat_receiveFromAll",(function(e){var t=e.alias,n=e.message;Tt((function(e){return[].concat(Object(f.a)(e),[{alias:t,message:n}])}))})),v.on("chat_receiveFromTeam",(function(e){var t=e.alias,n=e.message;Ct((function(e){return[].concat(Object(f.a)(e),[{alias:t,message:n}])}))})),function(){v.removeAllListeners()}}),[]),Object(a.useEffect)((function(){Ze(Array(parseInt(l)).fill(0)),bt(Array(parseInt(l)).fill([]))}),[l]),Object(a.useEffect)((function(){ee.forEach((function(e,t){e.forEach((function(e){v.id===e.socketId&&ce(t)}))}))}),[ee]),Object(a.useEffect)((function(){if(ee[se])for(var e=Math.ceil(parseInt(O)/ee[se].length),t=0;t<ee[se].length;t++)if(v.id===ee[se][t].socketId){var n=t*e,a=(t+1)*e;if(0===Ee&&0===n){le(!0);break}if(n<Ee&&Ee<=a){le(!0);break}le(!1)}}),[ee,se,Ee]),Object(a.useEffect)((function(){M||"TRIVIA"!==c&&" BUY_DEFENSE"!==c||At(!1),"BUY_DEFENSE"===c&&v.emit("host_start_buy_phase",J)}),[c]),Object(a.useEffect)((function(){Qe.forEach((function(e,t){se==t&&Ge(e)}))}),[Qe]);return Object(o.jsx)(g.Provider,{value:{gameStage:c,setGameStage:i,isHost:M,setIsHost:L,isInLobby:Y,setIsInLobby:U,alias:z,setAlias:q,lobbyId:J,setLobbyId:$,nbOfTeams:l,setNbOfTeams:b,nbOfRounds:O,setNbOfRounds:x,timeForEachRound:_,setTimeForEachRound:T,userEarnings:Ne,setUserEarnings:Re,hasTriviaRound:I,setHasTriviaRound:C,difficulty:w,setDifficulty:A,teamInfo:ee,setTeamInfo:te,roundCount:Ee,setRoundCount:De,myTeamId:se,setMyTeamId:ce,isTeamLeader:je,setIsTeamLeader:le,triviaQuestion:de,setTriviaQuestion:he,triviaAnswer:xe,setTriviaAnswer:fe,hasSubmittedTrivia:ge,setHasSubmittedTrivia:pe,submittedTriviaAnswers:ye,setSubmittedTriviaAnswers:Se,userDefenses:Be,setUserDefenses:Fe,selectedDefenses:He,setSelectedDefenses:Ge,boughtDefenses:Qe,setBoughtDefenses:Pe,rolledAttack:Ve,setRolledAttack:Ke,scores:Xe,setScores:Ze,defensesToSubmit:nt,setDefensesToSubmit:at,bestDefenses:it,setBestDefenses:rt,playedDefenses:ot,setPlayedDefenses:bt,hasSubmittedDefenses:ut,setHasSubmittedDefenses:Ot,resetTimer:mt,setResetTimer:vt,chatMessagesTeam:It,setChatMessagesTeam:Ct,chatMessagesAll:_t,setChatMessagesAll:Tt,hideTeamChat:wt,setHideTeamChat:At,hideAllChat:kt,setHideAllChat:Wt,host_create_lobby:function(){v.emit("host_create_lobby",{nbOfTeams:l,nbOfRounds:O,nbOfDefenses:k,timeForEachRound:_,userEarnings:Ne,hasTriviaRound:I,difficulty:w},(function(e){$(e)})),Wt(!1)},student_join_lobby:function(){""!==J&&""!==z&&(v.emit("student_join_lobby",{lobbyId:J,alias:z},(function(e){var t=e.nbOfTeams,n=e.nbOfRounds,a=e.nbOfDefenses,s=e.timeForEachRound,c=e.userEarnings,i=e.hasTriviaRound,r=e.difficulty,j=e.teamInfo;b(t),x(n),W(a),T(s),Re(parseInt(c)),C(i),A(r),te(j)})),Wt(!1))},host_move_student:function(e,t,n,a){v.emit("host_move_student",{lobbyId:e,socketId:t,oldTeamId:n,newTeamId:a})},host_start_game:function(){v.emit("host_start_game",J)},host_gets_trivia_question:function(){v.emit("host_gets_trivia_question",J,(function(e){he(e)}))},student_submit_trivia_answer:function(){v.emit("student_submit_trivia_answer",{lobbyId:J,teamId:se,triviaAnswer:xe},(function(e){var t=e.triviaReward;Re((function(e){return e+t}))}))},host_ends_trivia_round:function(){v.emit("host_ends_trivia_round",J)},student_buy_defenses:function(){v.emit("student_buy_defenses",{lobbyId:J,teamId:se,defenses:He})},host_start_next_defense_round:function(){v.emit("host_start_next_defense_round",J)},host_end_game:function(){v.emit("host_end_game",J)},student_play_defenses:function(){v.emit("student_play_defenses",{lobbyId:J,teamId:se,defenses:nt,attackId:Ve.AttackID})},chat_sendToAll:function(e){v.emit("chat_sendToAll",{lobbyId:J,alias:z,message:e})},chat_sendToTeam:function(e){v.emit("chat_sendToTeam",{lobbyId:J,alias:z,teamId:se,message:e})}},children:t})},_=n(178),T=n(179),y=n(180),S=n(181),I=n(182),C=n(183),E=n(184),D=n(201),w=n(196),A=n(203),N=function(e){e.children;var t=Object(a.useContext)(g),n=t.teamInfo,s=t.host_move_student,c=t.lobbyId;return Object(o.jsx)(j.a,{children:Object(o.jsx)(_.a,{children:Object(o.jsxs)(T.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(o.jsx)(y.a,{children:Object(o.jsxs)(S.a,{children:[Object(o.jsx)(I.a,{children:"Team"}),Object(o.jsx)(I.a,{align:"right",sx:{minWidth:300},children:"Members"})]})}),n.map((function(e,t){return Object(o.jsx)(C.a,{children:Object(o.jsxs)(S.a,{children:[Object(o.jsxs)(I.a,{component:"th",scope:"child",children:["Team ",t+1]}),e.map((function(e){return Object(o.jsxs)(I.a,{align:"right",children:[e.alias,Object(o.jsxs)(E.a,{fullWidth:!0,children:[Object(o.jsx)(D.a,{id:"select-label-round",children:"Switch"}),Object(o.jsx)(w.a,{label:"Round",onChange:function(n){return a=n.target.value,i=e.socketId,void s(c,i,t,a);var a,i},children:n.map((function(e,t){return Object(o.jsx)(A.a,{value:t,children:t+1})}))})]})]})}))]},t+1)})}))]})})})},R=n(185),k=function(e){e.children;var t=Object(a.useContext)(g),n=t.setGameStage,s=t.setNbOfTeams,c=t.setNbOfRounds,i=t.setTimeForEachRound,r=t.setUserEarnings,l=t.hasTriviaRound,b=t.setHasTriviaRound,d=t.difficulty,h=t.setDifficulty,u=t.host_create_lobby;return Object(o.jsxs)(j.a,{sx:{m:"20px",p:"10px",maxWidth:500},children:[Object(o.jsx)(R.a,{fullWidth:!0,type:"text",placeholder:"Enter Number of teams",onChange:function(e){return s(e.target.value)}}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)(R.a,{fullWidth:!0,type:"text",placeholder:"Enter Number of Rounds",onChange:function(e){return c(e.target.value)}}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),Object(o.jsx)(R.a,{fullWidth:!0,type:"text",placeholder:"Enter Time Allowed For Each Round (in seconds)",onChange:function(e){return i(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)(R.a,{fullWidth:!0,type:"text",placeholder:"Enter Amount of Starting Money",onChange:function(e){return r(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsxs)(E.a,{fullWidth:!0,children:[Object(o.jsx)(D.a,{id:"select-difficulty-label",children:"Difficulty"}),Object(o.jsxs)(w.a,{labelId:"select-difficulty-label",id:"select-difficulty",value:d,label:"Difficulty",onChange:function(e){return h(e.target.value)},children:[Object(o.jsx)(A.a,{value:1,children:"Beginner"}),Object(o.jsx)(A.a,{value:2,children:"Intermediate"}),Object(o.jsx)(A.a,{value:3,children:"Expert"})]})]}),Object(o.jsx)("br",{}),Object(o.jsxs)(E.a,{fullWidth:!0,children:[Object(o.jsx)(D.a,{id:"select-label-hasTriviaRound",children:"Play Trivia Rounds?"}),Object(o.jsxs)(w.a,{labelId:"select-label-hasTriviaRound",id:"select-hasTrivia",value:l,label:"hasTrivia",onChange:function(e){return b(e.target.value)},children:[Object(o.jsx)(A.a,{value:!0,children:"Yes"}),Object(o.jsx)(A.a,{value:!1,children:"No"})]})]}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)(x.a,{variant:"contained",onClick:function(){n("WAITING"),u()},children:"Submit"})]})},W=function(e){e.children;var t=Object(a.useContext)(g).scores;return Object(o.jsx)(j.a,{children:Object(o.jsx)(_.a,{children:Object(o.jsxs)(T.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(o.jsx)(y.a,{children:Object(o.jsxs)(S.a,{children:[Object(o.jsx)(I.a,{children:"Team"}),Object(o.jsx)(I.a,{align:"right",sx:{minWidth:300},children:"Scores"})]})}),Object(o.jsx)(C.a,{children:t.map((function(e,t){return Object(o.jsxs)(S.a,{children:[Object(o.jsxs)(I.a,{component:"th",scope:"row",children:["Team ",t+1]}),Object(o.jsx)(I.a,{style:{width:160},align:"right",children:e})]})}))})]})})})},B=n(189),F=function(e){Object(O.a)(e);var t=Object(a.useContext)(g),n=t.submittedTriviaAnswers,s=t.triviaQuestion;return Object(o.jsx)(j.a,{children:Object(o.jsx)(_.a,{children:Object(o.jsxs)(T.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(o.jsx)(y.a,{children:Object(o.jsxs)(S.a,{children:[Object(o.jsx)(I.a,{children:"Team"}),Object(o.jsx)(I.a,{align:"right",sx:{minWidth:300},children:"Submitted Answer"})]})}),Object(o.jsxs)(C.a,{children:[Object(o.jsxs)(S.a,{children:[Object(o.jsx)(I.a,{component:"th",scope:"child",children:"Correct Answer"}),Object(o.jsx)(I.a,{align:"right",children:s.Answer}),";"]},"correctAnswer"),n.map((function(e,t){return Object(o.jsxs)(S.a,{children:[Object(o.jsxs)(I.a,{component:"th",scope:"child",children:["Team ",t+1]}),Object(o.jsx)(I.a,{align:"right",children:e}),";"]},t+1)}))]})]})})})},M=function(e){var t=e.isHost,n=e.isTeamLeader,s=Object(a.useContext)(g),c=s.host_gets_trivia_question,i=s.host_ends_trivia_round,l=s.triviaQuestion,b=s.triviaAnswer,d=s.setTriviaAnswer,h=s.student_submit_trivia_answer,u=s.hasSubmittedTrivia,O=s.setHasSubmittedTrivia,f=s.submittedTriviaAnswers,m=s.myTeamId,v={m:"20px",p:"10px"};return t?Object(o.jsxs)(j.a,{children:[Object(o.jsx)(j.a,{sx:v,children:l&&Object(o.jsxs)(j.a,{sx:v,children:[Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Trivia Question: ".concat(l.Question)}),Object(o.jsx)("br",{}),Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Option 1: ".concat(l.Option1)}),Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Option 2: ".concat(l.Option2)}),l.Option3&&Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Option 3: ".concat(l.Option3)}),l.Option4&&Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Option 4: ".concat(l.Option4)}),Object(o.jsx)("br",{})]})}),Object(o.jsx)(j.a,{align:"center",children:Object(o.jsxs)(B.a,{variant:"text","aria-label":"text button group",children:[Object(o.jsx)(x.a,{align:"center",variant:"contained",onClick:function(){i()},children:"End Trivia Round"}),Object(o.jsx)(x.a,{variant:"contained",onClick:function(){c()},children:"Next Trivia Question"})]})}),l&&Object(o.jsx)(F,{})]}):Object(o.jsx)(j.a,{children:Object(o.jsx)(j.a,{sx:v,children:l?Object(o.jsxs)(j.a,{sx:v,children:[Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Trivia Question: ".concat(l.Question)}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsxs)(E.a,{fullWidth:!0,children:[Object(o.jsx)(D.a,{id:"trivia-answer-label",children:"Options"}),Object(o.jsxs)(w.a,{labelId:"trivia-answer-label",id:"trivia-select",value:b,label:"TriviaAnswer",onChange:function(e){d(e.target.value)},children:[Object(o.jsx)(A.a,{value:l.Option1,children:l.Option1}),Object(o.jsx)(A.a,{value:l.Option2,children:l.Option2}),l.Option3&&Object(o.jsx)(A.a,{value:l.Option3,children:l.Option3}),l.Option3&&Object(o.jsx)(A.a,{value:l.Option4,children:l.Option4})]})]}),Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{}),n?Object(o.jsxs)(j.a,{children:[Object(o.jsx)(r.a,{children:"You are the current team leader, discuss with your team before submitting your answer."}),Object(o.jsx)(x.a,{disabled:u,align:"center",variant:"contained",onClick:function(){return h(),void O(!0)},children:"Submit Answer"})]}):Object(o.jsx)(r.a,{children:"You are not the current team leader, discuss with your team to help your team leader pick the right answer."}),f[m]&&Object(o.jsx)(F,{})]}):Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Waiting for a trivia question..."})})})},L=function(e){Object(O.a)(e);var t=Object(a.useContext)(g).boughtDefenses;return Object(o.jsx)(j.a,{children:Object(o.jsx)(_.a,{children:Object(o.jsxs)(T.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(o.jsx)(y.a,{children:Object(o.jsxs)(S.a,{children:[Object(o.jsx)(I.a,{children:"Team"}),Object(o.jsx)(I.a,{align:"right",sx:{minWidth:300},children:"Bought Defenses"})]})}),Object(o.jsx)(C.a,{children:t.map((function(e,t){return Object(o.jsxs)(S.a,{children:[Object(o.jsxs)(I.a,{component:"th",scope:"child",children:["Team ",t+1]}),Object(o.jsx)(I.a,{align:"right",children:e.map((function(e){return Object(o.jsx)(r.a,{children:e.defenseName})}))})]},t+1)}))})]})})})},H=n(190),G=n(191),Y=n(192),U=n(200),Q=function(e){var t=e.initialSeconds,n=e.resetTimer,s=e.setResetTimer,c=Object(a.useState)(t),i=Object(u.a)(c,2),l=i[0],b=i[1];return Object(a.useEffect)((function(){n&&(b(t),s(!1))}),[n]),Object(a.useEffect)((function(){var e=setInterval((function(){l>0&&b(l-1),0===l&&clearInterval(e)}),1e3);return function(){clearInterval(e)}})),Object(o.jsx)(j.a,{children:0===l?null:Object(o.jsxs)(r.a,{align:"center",variant:"h5",children:[" Timer: ",l<10?"0".concat(l):l," "]})})},P=function(e){var t=e.isHost,n=Object(a.useContext)(g),s=n.roundCount,c=n.nbOfRounds,i=n.timeForEachRound,l=n.resetTimer,b=n.setResetTimer,d=n.rolledAttack,h=n.selectedDefenses,O=n.defensesToSubmit,m=n.setDefensesToSubmit,v=n.hasSubmittedDefenses,p=n.setHasSubmittedDefenses,_=n.isTeamLeader,T=n.host_start_next_defense_round,y=n.host_end_game,S=n.student_play_defenses,I=Object(a.useState)(0),C=Object(u.a)(I,2),E=C[0],D=C[1],w={m:"20px",p:"10px"};return Object(o.jsxs)(j.a,{sx:w,children:[Object(o.jsx)(Q,{initialSeconds:i,resetTimer:l,setResetTimer:b}),Object(o.jsx)(H.a,{container:!0,justifyContent:"flex-end",children:Object(o.jsx)(r.a,{children:"Current round: ".concat(s,"/").concat(c)})}),Object(o.jsx)(W,{}),Object(o.jsx)(j.a,{sx:{m:"30px"},children:Object(o.jsx)(G.a,{children:Object(o.jsx)(Y.a,{children:Object(o.jsx)(U.a,{title:d.Description,children:Object(o.jsx)(r.a,{align:"center",variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Attack rolled: ".concat(d.Name," ")})})})})}),t?Object(o.jsx)(j.a,{align:"center",children:Object(o.jsxs)(B.a,{variant:"text","aria-label":"text button group",children:[Object(o.jsx)(x.a,{align:"center",variant:"contained",onClick:function(){y()},children:"End Game"}),s<c&&Object(o.jsx)(x.a,{variant:"contained",onClick:function(){b(!0),T()},children:"Next Round"})]})}):Object(o.jsxs)(j.a,{children:[Object(o.jsx)(H.a,{container:!0,spacing:8,children:h.map((function(e){return Object(o.jsx)(H.a,{item:!0,children:Object(o.jsx)(x.a,{variant:"contained",size:"large",color:"blue",onClick:function(){return function(e,t){if(E<2){D(E+1);var n={defenseName:t,defenseID:e};m([].concat(Object(f.a)(O),[n]))}else{var a={defenseName:t,defenseID:e};m([].concat(Object(f.a)(O.slice(1)),[a]))}}(e.defenseID,e.defenseName)},children:Object(o.jsx)(r.a,{variant:"h7",align:"center",color:"text.secondary",gutterBottom:!0,children:e.defenseName})})})}))}),Object(o.jsxs)(j.a,{sx:w,children:[Object(o.jsx)(j.a,{sx:{m:"10px"},children:Object(o.jsx)(r.a,{children:"Selected Defense: "})}),Object(o.jsx)(G.a,{children:Object(o.jsx)(j.a,{sx:{m:"10px"},children:O.map((function(e){return Object(o.jsx)(r.a,{children:e.defenseName})}))})})]}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),_?Object(o.jsx)(j.a,{children:Object(o.jsx)(r.a,{children:"You are the current team leader, discuss with your team before submitting your defenses."})}):Object(o.jsx)(r.a,{children:"You are not the current team leader, discuss with your team to help your team leader pick appropriate defenses."}),Object(o.jsx)(x.a,{disabled:!_||v,variant:"contained",onClick:function(){return p(!0),void S()},children:"Submit"})]})]})},z=function(e){Object(O.a)(e);var t=Object(a.useContext)(g),n=t.playedDefenses,s=t.bestDefenses;return Object(o.jsx)(j.a,{children:Object(o.jsx)(_.a,{children:Object(o.jsxs)(T.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(o.jsx)(y.a,{children:Object(o.jsxs)(S.a,{children:[Object(o.jsx)(I.a,{children:"Team"}),Object(o.jsx)(I.a,{align:"right",sx:{minWidth:300},children:"Played Defenses"})]})}),Object(o.jsxs)(C.a,{children:[Object(o.jsxs)(S.a,{children:[Object(o.jsx)(I.a,{component:"th",scope:"child",children:"Best Defenses"}),Object(o.jsx)(I.a,{align:"right",children:s.map((function(e){return Object(o.jsx)(r.a,{children:e.Name})}))}),";"]},"correctAnswer"),n.map((function(e,t){return Object(o.jsxs)(S.a,{children:[Object(o.jsxs)(I.a,{component:"th",scope:"child",children:["Team ",t+1]}),Object(o.jsx)(I.a,{align:"right",children:e.map((function(e){return Object(o.jsx)(r.a,{children:e.defenseName})}))}),";"]},t+1)}))]})]})})})},q=function(e){Object(O.a)(e);var t=Object(a.useContext)(g),n=t.lobbyId,s=t.hasTriviaRound,c=t.gameStage,i=t.host_start_game,l=t.boughtDefenses,b=t.host_start_next_defense_round,d=Object(a.useState)(!1),h=Object(u.a)(d,2),f=h[0],m=h[1],v={m:"20px",p:"10px"};a.useEffect((function(){var e=!0;l.forEach((function(t){0===t.length&&(e=!1)})),0===l.length&&(e=!1),m(e)}),[l]);var p=function(){i()};return"CONFIG"===c?Object(o.jsx)(k,{}):"WAITING"===c?Object(o.jsxs)(j.a,{sx:v,children:[Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Lobby created, use code ".concat(n," to join.")}),Object(o.jsx)(N,{}),Object(o.jsxs)(j.a,{sx:v,children:[Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),s?Object(o.jsx)(x.a,{variant:"contained",onClick:p,children:"Start Game (Trivia Round)"}):Object(o.jsx)(x.a,{variant:"contained",onClick:p,children:"Start Game (Buy Defense Phase)"})]})]}):"TRIVIA"===c?Object(o.jsx)(M,{isHost:!0,isTeamLeader:!1}):"BUY_DEFENSE"===c?Object(o.jsxs)(j.a,{children:[f?Object(o.jsxs)(j.a,{children:[Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Teams have finished buying defenses."}),Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"You can start whenever you see fit."})]}):Object(o.jsxs)(j.a,{children:[Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Students are buying defenses..."}),Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Meanwhile, you can view each team's purchased defenses once a team finishes their purchase."})]}),Object(o.jsx)(j.a,{textAlign:"center",children:Object(o.jsx)(x.a,{variant:"contained",align:"center",disabled:!f,onClick:function(){b()},children:"Start Game"})}),Object(o.jsx)(L,{})]}):"DEFEND_ATTACK"===c?Object(o.jsxs)(j.a,{children:[Object(o.jsx)(P,{isHost:!0}),Object(o.jsx)(z,{})]}):"GAME_END"===c?Object(o.jsxs)(j.a,{children:[Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"This game session is over."}),Object(o.jsx)(W,{})]}):void 0},V=n(88),K=n(193),J=n(194),$=n(198),X=function(e){Object(O.a)(e);var t=Object(a.useContext)(g),n=(t.alias,t.myTeamId),s=t.isTeamLeader,c=t.userEarnings,i=t.setUserEarnings,l=t.userDefenses,b=(t.setUserDefenses,t.selectedDefenses),d=t.setSelectedDefenses,h=t.boughtDefenses,m=t.setGameStage,v=t.student_buy_defenses;a.useEffect((function(){0!==h.length&&0!==h[n].length&&m("DONE_BUYING")}),[h]);var p=Object(a.useState)([]),D=Object(u.a)(p,2),w=D[0],A=D[1],N=function(e,t,n,a,s){var r=Object(f.a)(w),j=Object(V.a)({},r[a]);if(j=e,r[a]=j,A(r),!e&&b.length>0&&c>0)b.map((function(e,n){e.defenseName===t&&function(e,t){var n=[].concat(Object(f.a)(b.slice(0,e)),Object(f.a)(b.slice(e+1,b.length)));d(n),i(c+t)}(n,e.defenseCost)}));else if(e&&b.length>=0&&c>0){var l={defenseName:t,defenseCost:n,defenseID:s,done:e};d([].concat(Object(f.a)(b),[l])),i(c-n)}};return Object(o.jsxs)(j.a,{sx:{p:6,minWidth:"85%"},children:[Object(o.jsx)(G.a,{children:Object(o.jsx)(Y.a,{children:s?Object(o.jsx)(r.a,{gutterBottom:!0,children:"You are the current team leader of team ".concat(n+1,", discuss with your team to decide what defenses to buy!")}):Object(o.jsx)(r.a,{children:"You are not the current team leader of team ".concat(n+1,", discuss with your team to help your team leader decide what defenses to buy!")})})}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsxs)(r.a,{variant:"h7",color:"text.secondary",gutterBottom:!0,children:["Earnings:$",c]}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)(_.a,{children:Object(o.jsxs)(T.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(o.jsx)(y.a,{children:Object(o.jsxs)(S.a,{children:[Object(o.jsx)(I.a,{children:"Defenses"}),Object(o.jsx)(I.a,{align:"right",children:"Cost"}),Object(o.jsx)(I.a,{align:"right",children:"Submission"})]})}),Object(o.jsx)(C.a,{children:l.map((function(e,t){return Object(o.jsxs)(S.a,{children:[Object(o.jsx)(I.a,{component:"th",scope:"row",children:e.Name}),Object(o.jsx)(I.a,{style:{width:160},align:"right",children:e.cost}),Object(o.jsx)(I.a,{style:{width:160},align:"right",children:Object(o.jsx)(E.a,{component:"fieldset",variant:"standard",children:Object(o.jsx)(K.a,{children:Object(o.jsx)(J.a,{control:Object(o.jsx)($.a,{onChange:function(n){return N(n.target.checked,e.Name,e.cost,t,e.DefenseID)},disabled:e.cost>c&&!w[t],checked:w[t]},e.label)})})})})]},e.Name)}))})]})}),Object(o.jsx)("br",{}),Object(o.jsx)(x.a,{variant:"contained",disabled:!s,onClick:function(){return m("DONE_BUYING"),void v()},children:"Submit"}),!s&&Object(o.jsx)(j.a,{sx:{fontStyle:"italic"},children:Object(o.jsx)(r.a,{children:"Only team leader can submit"})})]})},Z=function(e){Object(O.a)(e);var t=Object(a.useContext)(g).teamInfo;return Object(o.jsx)(j.a,{children:Object(o.jsx)(_.a,{children:Object(o.jsxs)(T.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(o.jsx)(y.a,{children:Object(o.jsxs)(S.a,{children:[Object(o.jsx)(I.a,{children:"Team"}),Object(o.jsx)(I.a,{align:"right",sx:{minWidth:300},children:"Members"})]})}),t.map((function(e,t){return Object(o.jsx)(C.a,{children:Object(o.jsxs)(S.a,{children:[Object(o.jsxs)(I.a,{component:"th",scope:"child",children:["Team ",t+1]}),e.map((function(e){return Object(o.jsx)(I.a,{align:"right",children:e.alias})}))]},t+1)})}))]})})})},ee=W,te=function(e){Object(O.a)(e);var t=Object(a.useContext)(g),n=t.gameStage,s=t.isTeamLeader,c=t.playedDefenses,i=t.myTeamId;return"WAITING"===n?Object(o.jsxs)(j.a,{children:[Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Waiting for host to start game..."}),Object(o.jsx)(Z,{})]}):"TRIVIA"===n?Object(o.jsx)(M,{isHost:!1,isTeamLeader:s}):"BUY_DEFENSE"===n?Object(o.jsx)(X,{}):"DONE_BUYING"===n?Object(o.jsxs)(j.a,{children:[Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Waiting for the host to start game..."}),Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"Meanwhile, you can view each team's purchased defenses."}),Object(o.jsx)(L,{})]}):"DEFEND_ATTACK"===n?Object(o.jsxs)(j.a,{children:[Object(o.jsx)(P,{isHost:!1}),0!==c[i].length&&Object(o.jsx)(z,{})]}):"GAME_END"===n?Object(o.jsxs)(j.a,{children:[Object(o.jsx)(r.a,{align:"center",variant:"h6",children:"This game session is over."}),Object(o.jsx)(ee,{})]}):void 0},ne=function(e){e.children;var t=Object(a.useContext)(g),n=t.setLobbyId,s=t.setIsInLobby,c=t.setIsHost,i=t.setAlias,r=t.setGameStage,l=t.student_join_lobby;return Object(o.jsxs)(j.a,{sx:{p:6,border:"1px solid black",borderRadius:"10px",width:250,align:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[Object(o.jsx)(x.a,{variant:"contained",onClick:function(){s(!0),c(!0),i("Host")},children:"Create Lobby"}),Object(o.jsx)("h4",{children:"or"}),Object(o.jsx)(R.a,{type:"text",placeholder:"Enter Lobby ID",onChange:function(e){return t=e.target.value,void n(t.trim());var t}}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)(R.a,{type:"text",placeholder:"Enter Name",onChange:function(e){return i(e.target.value)}}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)(x.a,{variant:"contained",onClick:function(){return s(!0),r("WAITING"),void l()},children:"Join Lobby"})]})},ae=n(188),se=n(195),ce=n(204),ie=function(e){Object(O.a)(e);var t=Object(a.useContext)(g),n=t.chatMessagesAll,c=t.chatMessagesTeam,i=t.chat_sendToAll,l=t.chat_sendToTeam,b=t.hideAllChat,d=t.hideTeamChat,h=Object(a.useState)(""),f=Object(u.a)(h,2),m=f[0],v=f[1],p=Object(a.useState)(""),_=Object(u.a)(p,2),T=_[0],y=_[1],S=s.a.createRef(),I=function(){S.current.scrollIntoView({behavior:"smooth"})};return Object(o.jsxs)(j.a,{align:"center",children:[!b&&Object(o.jsxs)(H.a,{container:!0,style:{border:"1px solid grey",width:"50%"},children:[Object(o.jsx)(H.a,{item:!0,xs:12,align:"center",children:Object(o.jsx)(r.a,{children:"Chat Box All"})}),Object(o.jsx)(H.a,{item:!0,xs:12,children:Object(o.jsxs)(ae.a,{id:"ChatBoxMessagesAll",style:{maxHeight:"200px",width:"100%",overflow:"auto"},children:[n&&{chatMessagesAll:n}.chatMessagesAll.map((function(e){return Object(o.jsx)(se.a,{primary:"".concat(e.alias,": ").concat(e.message)})})),Object(o.jsx)("div",{ref:S})]})}),Object(o.jsx)(H.a,{item:!0,xs:8,children:Object(o.jsx)(ce.a,{value:T,onChange:function(e){y(e.target.value)},fullWidth:!0,variant:"standard",label:"Send message all"})}),Object(o.jsx)(H.a,{item:!0,xs:4,children:Object(o.jsx)(x.a,{onClick:function(){i(T),y(""),I()},variant:"outlined",children:"Send To All"})})]}),!d&&Object(o.jsxs)(H.a,{container:!0,style:{border:"1px solid grey",width:"50%"},children:[Object(o.jsx)(H.a,{item:!0,xs:12,align:"center",children:Object(o.jsx)(r.a,{children:"Chat Box Team"})}),Object(o.jsx)(H.a,{item:!0,xs:12,children:Object(o.jsxs)(ae.a,{id:"ChatBoxMessagesTeam",style:{maxHeight:"200px",width:"100%",overflow:"auto"},children:[c&&{chatMessagesTeam:c}.chatMessagesTeam.map((function(e){return Object(o.jsx)(se.a,{primary:"".concat(e.alias,": ").concat(e.message)})})),Object(o.jsx)("div",{ref:S})]})}),Object(o.jsx)(H.a,{item:!0,xs:8,children:Object(o.jsx)(ce.a,{value:m,onChange:function(e){v(e.target.value)},fullWidth:!0,variant:"standard",label:"Send message team"})}),Object(o.jsx)(H.a,{item:!0,xs:4,children:Object(o.jsx)(x.a,{onClick:function(){l(m),v(""),I()},variant:"outlined",children:"Send To Team"})})]})]})};var re=function(){var e=Object(a.useContext)(g),t=e.isHost,n=e.isInLobby,s=Object(h.a)({root:{fontWeight:600,color:"#088F8F"}})(r.a);return Object(o.jsxs)(d,{children:[Object(o.jsx)(j.a,{align:"center",children:Object(o.jsx)(s,{variant:"h4",children:" CYBERBLOCK"})}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),n?Object(o.jsxs)(j.a,{children:[t?Object(o.jsx)(q,{}):Object(o.jsx)(te,{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)(ie,{})]}):Object(o.jsx)(ne,{}),Object(o.jsx)("br",{})]})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,206)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(p,{children:Object(o.jsx)(re,{})})}),document.getElementById("root")),je()}},[[145,1,2]]]);
//# sourceMappingURL=main.685bbc0b.chunk.js.map
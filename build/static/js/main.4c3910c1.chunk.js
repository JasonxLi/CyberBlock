(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e,t,n){},152:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(13),i=n.n(c),r=(n(115),n(53)),o=n(212),l=n(1),j=function(){return Object(l.jsx)("svg",{width:"130px",height:"50px",viewBox:"0 0 35 6.5 ",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{d:"m8.884 3.295c-.047-.582-.35-.923-.962-.923-.565 0-.914.357-.976.923zm.914.217c0 .186-.015.38-.046.535h-2.79c.1.465.495.752 1.24.752h.01l.007-.001a3.128 3.128 0 0 0 .212-.01l.058-.004a2.7 2.7 0 0 0 .874-.241l.064-.031c.055-.028.108-.058.16-.089h.024v.785c-.408.247-.887.39-1.4.39v-.003l-.055.002c-1.404 0-2.171-.798-2.171-1.961 0-1.248.79-2.07 1.938-2.07s1.876.814 1.876 1.946m-9.667 2.007h.954l.178-3.34.039-.907h.015l.202.907.775 3.34h1.195l.783-3.34.193-.907h.016l.039.907.186 3.34h.992l-.327-5.348h-1.58l-.714 3.21-.155.813h-.015l-.163-.814-.713-3.209h-1.582zm16.41.078c-.89 0-1.395-.41-1.395-1.34v-1.83h-1.07v1.945c0 .287.11.403.342.403.054 0 .116 0 .186-.015h.023v.76a2.082 2.082 0 0 1 -.418.046c-.528 0-.853-.201-.993-.643-.279.434-.72.674-1.27.674-.985 0-1.784-.767-1.784-2.023 0-1.24.799-2.008 1.783-2.008.488 0 .892.186 1.17.527v-1.922h.962v1.473h1.07v-.924h.96v.923h1.032v.783h-1.031v1.784c0 .387.193.573.566.573.17 0 .286-.015.441-.054h.024v.79a2.625 2.625 0 0 1 -.597.078m-4.395-.814c.65 0 1.015-.503 1.015-1.209 0-.698-.364-1.202-1.015-1.202-.66 0-1 .504-1 1.202 0 .706.34 1.21 1 1.21m6.38-1.295c0-.628.325-.977.945-.977.108 0 .225.015.333.047h.016v-.9a1.087 1.087 0 0 0 -.38-.062c-.465 0-.775.287-.954.752v-.705h-.922v3.876h.961zm3.348 2.108c-1.217 0-2.039-.884-2.039-2.015s.822-2.016 2.04-2.016c1.208 0 2.03.884 2.03 2.016s-.822 2.015-2.03 2.015m0-.83c.689 0 1.045-.503 1.045-1.185s-.356-1.186-1.046-1.186c-.674 0-1.054.503-1.054 1.186s.38 1.186 1.054 1.186m3.506-1.411c0-.597.302-.985.86-.985.55 0 .807.365.807.985v2.163h.96v-2.202c0-.93-.48-1.752-1.526-1.752-.558 0-.93.28-1.14.698v-.62h-.922v3.876h.961zm4.325-2.659c0 .31-.248.574-.573.574a.57.57 0 1 1 .573-.574m.536 4.822a2.392 2.392 0 0 1 -.473.054c-.737 0-1.132-.388-1.132-1.1v-2.83h.969v2.76c0 .255.124.38.388.38.061 0 .139-.009.224-.024h.024zm.092-1.938c0-1.132.822-2.016 2.047-2.016.349 0 .744.086 1.039.248v.853h-.024a1.8 1.8 0 0 0 -.945-.264c-.737 0-1.132.504-1.132 1.179s.395 1.178 1.132 1.178a1.8 1.8 0 0 0 .945-.264h.024v.853c-.295.163-.69.248-1.04.248-1.224 0-2.046-.884-2.046-2.015",fill:"#224a87"})})},b=function(){return Object(l.jsxs)("svg",{width:"150px",height:"20px",viewBox:"0 0 35 15 ",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{fill:"#FFC240",d:"M5 16L3 5L8.5 10L12 4L15.5 10L21 5L19 16H5M19 19C19 19.6 18.6 20 18 20H6C5.4 20 5 19.6 5 19V18H19V19Z"}),";"]})},d=function(){return Object(l.jsx)("svg",{width:"30px",height:"30px",viewBox:"-8 5 35 15 ",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fill:"currentColor",d:"M2,21L23,12L2,3V10L17,12L2,14V21Z"})})},h=n(16),u=n(189),x=n(190),O=n(191),m=n(100),f=n(14),g=n(7),p=n(94),y=n.n(p).a.connect("https://cyberblock.herokuapp.com/"),v=Object(a.createContext)({}),S=function(e){var t=e.children,n=Object(a.useState)("CONFIG"),s=Object(g.a)(n,2),c=s[0],i=s[1],r=Object(a.useState)(2),o=Object(g.a)(r,2),j=o[0],b=o[1],d=Object(a.useState)(5),h=Object(g.a)(d,2),u=h[0],x=h[1],O=Object(a.useState)(120),m=Object(g.a)(O,2),p=m[0],S=m[1],T=Object(a.useState)(!0),D=Object(g.a)(T,2),_=D[0],C=D[1],N=Object(a.useState)(1),I=Object(g.a)(N,2),w=I[0],A=I[1],E=Object(a.useState)(2),F=Object(g.a)(E,2),k=F[0],L=F[1],R=Object(a.useState)(!1),B=Object(g.a)(R,2),W=B[0],H=B[1],M=Object(a.useState)(!1),G=Object(g.a)(M,2),z=G[0],U=G[1],Y=Object(a.useState)(""),P=Object(g.a)(Y,2),q=P[0],K=P[1],V=Object(a.useState)(""),Q=Object(g.a)(V,2),J=Q[0],X=Q[1],Z=Object(a.useState)([]),$=Object(g.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(-1),ae=Object(g.a)(ne,2),se=ae[0],ce=ae[1],ie=Object(a.useState)(!1),re=Object(g.a)(ie,2),oe=re[0],le=re[1],je=Object(a.useState)(),be=Object(g.a)(je,2),de=be[0],he=be[1],ue=Object(a.useState)(),xe=Object(g.a)(ue,2),Oe=xe[0],me=xe[1],fe=Object(a.useState)(),ge=Object(g.a)(fe,2),pe=ge[0],ye=ge[1],ve=Object(a.useState)(!1),Se=Object(g.a)(ve,2),Te=Se[0],De=Se[1],_e=Object(a.useState)([]),Ce=Object(g.a)(_e,2),Ne=Ce[0],Ie=Ce[1],we=Object(a.useState)(0),Ae=Object(g.a)(we,2),Ee=Ae[0],Fe=Ae[1],ke=Object(a.useState)(40),Le=Object(g.a)(ke,2),Re=Le[0],Be=Le[1],We=Object(a.useState)([]),He=Object(g.a)(We,2),Me=He[0],Ge=He[1],ze=Object(a.useState)([]),Ue=Object(g.a)(ze,2),Ye=Ue[0],Pe=Ue[1],qe=Object(a.useState)([]),Ke=Object(g.a)(qe,2),Ve=Ke[0],Qe=Ke[1],Je=Object(a.useState)(""),Xe=Object(g.a)(Je,2),Ze=Xe[0],$e=Xe[1],et=Object(a.useState)([]),tt=Object(g.a)(et,2),nt=tt[0],at=tt[1],st=Object(a.useState)([]),ct=Object(g.a)(st,2),it=ct[0],rt=ct[1],ot=Object(a.useState)([]),lt=Object(g.a)(ot,2),jt=lt[0],bt=lt[1],dt=Object(a.useState)([]),ht=Object(g.a)(dt,2),ut=ht[0],xt=ht[1],Ot=Object(a.useState)(!1),mt=Object(g.a)(Ot,2),ft=mt[0],gt=mt[1],pt=Object(a.useState)(!1),yt=Object(g.a)(pt,2),vt=yt[0],St=yt[1],Tt=Object(a.useState)([]),Dt=Object(g.a)(Tt,2),_t=Dt[0],Ct=Dt[1],Nt=Object(a.useState)([]),It=Object(g.a)(Nt,2),wt=It[0],At=It[1],Et=Object(a.useState)(!0),Ft=Object(g.a)(Et,2),kt=Ft[0],Lt=Ft[1],Rt=Object(a.useState)(!0),Bt=Object(g.a)(Rt,2),Wt=Bt[0],Ht=Bt[1];Object(a.useEffect)((function(){return y.on("new_student_joined_lobby",(function(e){te(e)})),y.on("host_moved_student",(function(e){te(e)})),y.on("host_started_game",(function(e){i(e?"TRIVIA":"BUY_DEFENSE")})),y.on("host_ended_trivia_round",(function(){i("BUY_DEFENSE")})),y.on("student_receives_trivia_question",(function(e){me(e),Ie([]),De(!1)})),y.on("student_submitted_trivia_answer",(function(e){Ie(e)})),y.on("student_receive_defenses",(function(e){e.sort((function(e,t){return e.Name<t.Name?-1:e.Name>t.Name?1:0})),Ge(e)})),y.on("student_bought_defenses",(function(e){Qe(e)})),y.on("student_receive_attack",(function(e){var t=e.attack,n=e.playedDefenses;St(!0),Fe((function(e){return e+1})),$e(t),i("DEFEND_ATTACK"),gt(!1),bt([]),xt(n)})),y.on("host_ended_game",(function(){i("GAME_END")})),y.on("student_played_defenses",(function(e){var t=e.scores,n=e.bestDefenses,a=e.playedDefenses;at(t),bt(n),xt(a)})),y.on("chat_receiveFromAll",(function(e){var t=e.alias,n=e.message;Ct((function(e){return[].concat(Object(f.a)(e),[{alias:t,message:n}])}))})),y.on("chat_receiveFromTeam",(function(e){var t=e.alias,n=e.message;At((function(e){return[].concat(Object(f.a)(e),[{alias:t,message:n}])}))})),y.on("student_team_leader_changed",(function(e){var t=e.alias;he(t)})),y.on("student_disconnected",(function(e){te(e)})),function(){y.removeAllListeners()}}),[]),Object(a.useEffect)((function(){""!==j&&(at(Array(parseInt(j)).fill(0)),xt(Array(parseInt(j)).fill([])))}),[j]),Object(a.useEffect)((function(){ee.forEach((function(e,t){e.forEach((function(e){y.id===e.socketId&&ce(t)}))}))}),[ee]),Object(a.useEffect)((function(){if(ee[se]&&"WAITING"!==c&&"CONFIG"!==c)for(var e=Math.ceil(parseInt(u)/ee[se].length),t=0;t<ee[se].length;t++)if(y.id===ee[se][t].socketId){var n=t*e,a=(t+1)*e;if(0===Ee&&0===n){le(!0),y.emit("student_team_leader_change",{lobbyId:J,alias:q,myTeamId:se});break}if(n<Ee&&Ee<=a){le(!0),y.emit("student_team_leader_change",{lobbyId:J,alias:q,myTeamId:se});break}le(!1)}}),[ee,se,Ee,c]),Object(a.useEffect)((function(){W||"TRIVIA"!==c&&"BUY_DEFENSE"!==c||Lt(!1),W&&"BUY_DEFENSE"===c&&y.emit("host_start_buy_phase",J)}),[c]),Object(a.useEffect)((function(){Ve.forEach((function(e,t){se===t&&e.length>0&&Pe(e)}))}),[Ve]);return Object(l.jsx)(v.Provider,{value:{gameStage:c,setGameStage:i,isHost:W,setIsHost:H,isInLobby:z,setIsInLobby:U,alias:q,setAlias:K,lobbyId:J,setLobbyId:X,nbOfTeams:j,setNbOfTeams:b,nbOfRounds:u,setNbOfRounds:x,timeForEachRound:p,setTimeForEachRound:S,userEarnings:Re,setUserEarnings:Be,hasTriviaRound:_,setHasTriviaRound:C,difficulty:w,setDifficulty:A,nbOfDefenses:k,setNbOfDefenses:L,teamInfo:ee,setTeamInfo:te,roundCount:Ee,setRoundCount:Fe,myTeamId:se,setMyTeamId:ce,isTeamLeader:oe,setIsTeamLeader:le,teamLeader:de,setTeamLeader:he,triviaQuestion:Oe,setTriviaQuestion:me,triviaAnswer:pe,setTriviaAnswer:ye,hasSubmittedTrivia:Te,setHasSubmittedTrivia:De,submittedTriviaAnswers:Ne,setSubmittedTriviaAnswers:Ie,userDefenses:Me,setUserDefenses:Ge,selectedDefenses:Ye,setSelectedDefenses:Pe,boughtDefenses:Ve,setBoughtDefenses:Qe,rolledAttack:Ze,setRolledAttack:$e,scores:nt,setScores:at,defensesToSubmit:it,setDefensesToSubmit:rt,bestDefenses:jt,setBestDefenses:bt,playedDefenses:ut,setPlayedDefenses:xt,hasSubmittedDefenses:ft,setHasSubmittedDefenses:gt,resetTimer:vt,setResetTimer:St,chatMessagesTeam:wt,setChatMessagesTeam:At,chatMessagesAll:_t,setChatMessagesAll:Ct,hideTeamChat:kt,setHideTeamChat:Lt,hideAllChat:Wt,setHideAllChat:Ht,host_create_lobby:function(){y.emit("host_create_lobby",{nbOfTeams:j,nbOfRounds:u,nbOfDefenses:k,timeForEachRound:p,userEarnings:Re,hasTriviaRound:_,difficulty:w},(function(e){X(e)})),Ht(!1)},student_join_lobby:function(){console.log("Student joining lobby with lobbyId:",J,"and alias:",q),""!==J&&""!==q?(console.log("Lobby and alias present, joining lobby"),y.emit("student_join_lobby",{lobbyId:J,alias:q},(function(e){var t=e.status,n=e.nbOfTeams,a=e.nbOfRounds,s=e.nbOfDefenses,c=e.timeForEachRound,r=e.userEarnings,o=e.hasTriviaRound,l=e.difficulty,j=e.teamInfo;"SUCCESS"===t?(b(n),x(a),L(s),S(c),Be(parseInt(r)),C(o),A(l),te(j),U(!0),i("WAITING")):"NOT_EXIST"===t?(alert("Lobby does not exist. Please make sure you enter the correct lobby code given by your host."),U(!1)):"ALREADY_STARTED"===t&&(alert("Unable to join this lobby because it has already started its game session."),U(!1))})),Ht(!1)):console.log("Lobby and alias not present, aborting")},host_move_student:function(e,t,n,a){y.emit("host_move_student",{lobbyId:e,socketId:t,oldTeamId:n,newTeamId:a})},host_start_game:function(){y.emit("host_start_game",J)},host_gets_trivia_question:function(){y.emit("host_gets_trivia_question",J,(function(e){me(e)}))},student_submit_trivia_answer:function(){y.emit("student_submit_trivia_answer",{lobbyId:J,teamId:se,triviaAnswer:pe},(function(e){var t=e.triviaReward;Be((function(e){return e+t}))}))},host_ends_trivia_round:function(){y.emit("host_ends_trivia_round",J)},student_buy_defenses:function(){console.log("Before sending defenses in, selected defenses are: ",Ye),y.emit("student_buy_defenses",{lobbyId:J,teamId:se,defenses:Ye})},host_start_next_defense_round:function(){y.emit("host_start_next_defense_round",J)},host_end_game:function(){y.emit("host_end_game",J)},student_play_defenses:function(){y.emit("student_play_defenses",{lobbyId:J,teamId:se,defenses:it,attackId:Ze.AttackID})},chat_sendToAll:function(e){e.length>0&&y.emit("chat_sendToAll",{lobbyId:J,alias:q,message:e})},chat_sendToTeam:function(e){e.length>0&&y.emit("chat_sendToTeam",{lobbyId:J,alias:q,teamId:se,message:e})}},children:t})},T=Object(m.a)({rightToolbar:{marginLeft:"auto",marginRight:-12},typography:{flexGrow:1,color:"#121212",fontSize:"1.6rem"},appbar:{background:"#dcdcdc"}}),D=function(e){Object(h.a)(e);var t=Object(a.useContext)(v),n=t.lobbyId,s=t.roundCount,c=t.hideTeamChat,i=t.teamLeader,b=T();return Object(l.jsx)(o.a,{sx:{flexGrow:1},children:Object(l.jsx)(u.a,{className:b.appbar,position:"static",children:Object(l.jsx)(x.a,{maxWidth:"x1",children:Object(l.jsxs)(O.a,{disableGutters:!0,sx:{justifyContent:"space-between"},children:[Object(l.jsx)(j,{}),Object(l.jsx)(r.a,{className:b.typography,children:"CyberBlock"}),Object(l.jsx)(r.a,{className:b.typography,children:s?"Round ".concat(s):"Lobby"}),Object(l.jsxs)("section",{children:[Object(l.jsx)(r.a,{className:b.typography,children:!c&&"Current Team Leader: ".concat(i)}),Object(l.jsx)(r.a,{className:b.typography,children:n?"Lobby ID: ".concat(n):"Lobby ID: Join a lobby!"})]})]})})})})},_=function(e){var t=e.children;return Object(l.jsxs)(o.a,{children:[Object(l.jsx)(D,{}),Object(l.jsx)(o.a,{sx:{overflow:"auto",positon:"relative"},children:t})]})},C=n(154),N=n(161),I=n(193),w=n(156),A=n(163),E=n(162),F=n(196),k=n(192),L=function(e){e.children;var t=Object(a.useContext)(v),n=t.teamInfo,s=t.host_move_student,c=t.lobbyId,i=Object(k.a)((function(e){return{gridStyling:{boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",borderRadius:"5px",position:"relative",margin:"20px"},typographyStyling:{fontSize:"19px",margin:"15px"},headerStyling:{backgroundColor:"#FAF9F6",borderTop:1,borderRight:1,borderLeft:1,border:"1px solid #D3D3D3"},playerStyling:{borderBottom:1,borderRight:0,borderLeft:0,border:"1px solid #D3D3D3",padding:4,alignItems:"center",justifyContent:"center"}}}))();return Object(l.jsx)(o.a,{children:n.map((function(e,t){return Object(l.jsxs)(I.a,{container:!0,className:i.gridStyling,children:[Object(l.jsx)(I.a,{item:!0,xs:12,align:"center",className:i.headerStyling,children:Object(l.jsxs)(r.a,{className:i.typographyStyling,children:["Team ",t+1]})}),e.map((function(e){return Object(l.jsxs)(a.Fragment,{children:[Object(l.jsx)(I.a,{item:!0,xs:8,className:i.playerStyling,children:Object(l.jsx)(r.a,{className:i.typographyStyling,children:e.alias})}),Object(l.jsx)(I.a,{item:!0,xs:4,className:i.playerStyling,children:Object(l.jsxs)(w.a,{fullWidth:!0,children:[Object(l.jsx)(A.a,{id:"select-label-round",children:"Switch Team"}),Object(l.jsx)(E.a,{label:"Round",onChange:function(n){return a=n.target.value,i=e.socketId,void s(c,i,t,a);var a,i},children:n.map((function(e,t){return Object(l.jsxs)(F.a,{value:t,children:["Team ",t+1]})}))})]})})]})}))]})}))})},R=n(198),B=n(97),W=n(197),H=Object(B.a)({palette:{primary:{main:"#F5F5F5"},secondary:{main:"#DCDCDC"}}}),M=function(e){e.children;var t=Object(a.useContext)(v),n=t.setGameStage,s=t.setNbOfTeams,c=t.setNbOfRounds,i=t.setTimeForEachRound,j=t.setUserEarnings,b=t.nbOfDefenses,d=t.setNbOfDefenses,h=t.hasTriviaRound,u=t.setHasTriviaRound,x=t.difficulty,O=t.setDifficulty,m=t.host_create_lobby,f=t.setIsHost,g=t.setAlias,p=t.setIsInLobby;return Object(l.jsx)(W.a,{theme:H,children:Object(l.jsxs)(o.a,{component:"form",onSubmit:function(){n("WAITING"),m()},sx:{fontFamily:"Titillium Web",border:"1px solid black",borderRadius:"20px",backgroundColor:"#DCDCDC",p:"10px",align:"center",alignItems:"center",position:"absolute",width:500,top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column"},boxShadow:3,children:[Object(l.jsx)(r.a,{variant:"h5",children:"Create New Lobby"}),Object(l.jsx)("br",{}),Object(l.jsx)(R.a,{margin:"normal",required:!0,fullWidth:!0,label:"Number of teams",type:"number",autoFocus:!0,onChange:function(e){return s(e.target.value)}}),Object(l.jsx)(R.a,{margin:"normal",required:!0,fullWidth:!0,type:"number",label:"Number of Rounds",onChange:function(e){return c(e.target.value)}}),Object(l.jsx)(R.a,{margin:"normal",required:!0,fullWidth:!0,type:"number",label:"Round Duration (in seconds)",onChange:function(e){return i(e.target.value)}}),Object(l.jsx)(R.a,{margin:"normal",required:!0,fullWidth:!0,type:"number",placeholder:"Enter Amount of Starting Money",onChange:function(e){return j(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(w.a,{fullWidth:!0,children:[Object(l.jsx)(A.a,{id:"select-nbOfDefenses-label",children:"Number of Defenses Played Each Round"}),Object(l.jsxs)(E.a,{fontFamily:"arial",labelId:"select-nbOfDefenses-label",id:"select-nbOfDefenses",value:b,label:"nbOfDefenses",onChange:function(e){return d(e.target.value)},children:[Object(l.jsx)(F.a,{value:2,children:"2"}),Object(l.jsx)(F.a,{value:3,children:"3"}),Object(l.jsx)(F.a,{value:4,children:"4"})]})]}),Object(l.jsx)("br",{}),Object(l.jsxs)(I.a,{container:!0,spacing:4,children:[Object(l.jsx)(I.a,{item:!0,xs:!0,children:Object(l.jsxs)(w.a,{fullWidth:!0,children:[Object(l.jsx)(A.a,{id:"select-difficulty-label",children:"Difficulty"}),Object(l.jsxs)(E.a,{labelId:"select-difficulty-label",id:"select-difficulty",value:x,label:"Difficulty",onChange:function(e){return O(e.target.value)},children:[Object(l.jsx)(F.a,{value:1,children:"Beginner"}),Object(l.jsx)(F.a,{value:2,children:"Intermediate"}),Object(l.jsx)(F.a,{value:3,children:"Expert"})]})]})}),Object(l.jsx)(I.a,{item:!0,xs:!0,children:Object(l.jsxs)(w.a,{fullWidth:!0,children:[Object(l.jsx)(A.a,{id:"select-label-hasTriviaRound",children:"Play Trivia Rounds?"}),Object(l.jsxs)(E.a,{labelId:"select-label-hasTriviaRound",id:"select-hasTrivia",value:h,label:"hasTrivia",onChange:function(e){return u(e.target.value)},children:[Object(l.jsx)(F.a,{value:!0,children:"Yes"}),Object(l.jsx)(F.a,{value:!1,children:"No"})]})]})})]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(I.a,{container:!0,spacing:4,children:[Object(l.jsx)(I.a,{item:!0,xs:!0,children:Object(l.jsx)(N.a,{variant:"contained",fullWidth:!0,type:"submit",children:"Create The Lobby"})}),Object(l.jsx)(I.a,{item:!0,xs:!0,children:Object(l.jsx)(N.a,{variant:"contained",fullWidth:!0,onClick:function(){p(!1),f(!1),g("")},children:"Cancel"})})]})]})})},G=n(12),z=n(199),U=n(200),Y=n(201),P=n(202),q=n(203),K=n(204),V=Object(k.a)((function(e){return{head:{width:500,color:"black",backgroundColor:"#FAF9F6",fontWeight:700,fontSize:"17px"},body:{fontWeight:500,borderBottom:"none"},winnerStyling:{color:"black",height:"30px",fontWeight:600,fontSize:"17px",py:"2%",borderBottom:"none"}}})),Q=function(e){e.children;var t=Object(a.useContext)(v),n=t.scores,s=t.roundCount,c=t.gameStage,i=Object(a.useState)([]),r=Object(g.a)(i,2),j=r[0],d=r[1],h=Object(G.a)({borderRadius:"9px",marginTop:"45px",marginLeft:"5px",width:"DEFEND_ATTACK"===c?"30%":"none",boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",position:"DEFEND_ATTACK"===c?"absolute":"none",left:"DEFEND_ATTACK"===c?"69%":"none",top:"DEFEND_ATTACK"===c?"50%":"none"},"width","DEFEND_ATTACK"===c?"400px":"none"),u=V();return Object(a.useEffect)((function(){var e=[];n.map((function(t,n){var a={teamID:n+1,score:t};e.push(a)}));var t=[].concat(e).sort((function(e,t){return e.score>t.score?-1:e.score<t.score?1:0}));d(t)}),[n]),Object(l.jsx)(o.a,{sx:h,children:Object(l.jsx)(z.a,{children:Object(l.jsxs)(U.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(l.jsx)(Y.a,{children:Object(l.jsxs)(P.a,{children:[Object(l.jsx)(q.a,{className:u.head,children:"Team"}),Object(l.jsx)(q.a,{align:"right",className:u.head,children:"Scores"}),Object(l.jsx)(q.a,{className:u.head})]})}),Object(l.jsx)(K.a,{children:j.map((function(e,t){return Object(l.jsxs)(P.a,{children:[Object(l.jsxs)(q.a,{component:"th",scope:"row",className:0===t&&0!==e.score?u.winnerStyling:u.body,children:["Team ",e.teamID]}),Object(l.jsx)(q.a,{align:"right",className:0===t&&0!==e.score?u.winnerStyling:u.body,children:e.score}),Object(l.jsx)(q.a,{align:"right",className:0===t&&0!==e.score?u.winnerStyling:u.body,children:0===t&&0!==e.score&&0!==s?Object(l.jsx)(b,{}):""})]})}))})]})})})},J=n(205),X=function(e){Object(h.a)(e);var t=Object(a.useContext)(v),n=t.submittedTriviaAnswers,s=t.triviaQuestion;return Object(l.jsx)(o.a,{children:Object(l.jsx)(z.a,{children:Object(l.jsxs)(U.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(l.jsx)(Y.a,{children:Object(l.jsxs)(P.a,{children:[Object(l.jsx)(q.a,{children:"Team"}),Object(l.jsx)(q.a,{align:"right",sx:{minWidth:300},children:"Submitted Answer"})]})}),Object(l.jsxs)(K.a,{children:[Object(l.jsxs)(P.a,{children:[Object(l.jsx)(q.a,{component:"th",scope:"child",children:"Correct Answer"}),Object(l.jsx)(q.a,{align:"right",children:s.Answer}),";"]},"correctAnswer"),n.map((function(e,t){return Object(l.jsxs)(P.a,{children:[Object(l.jsxs)(q.a,{component:"th",scope:"child",children:["Team ",t+1]}),Object(l.jsx)(q.a,{align:"right",children:e}),";"]},t+1)}))]})]})})})},Z=function(e){var t=e.isHost,n=e.isTeamLeader,s=Object(a.useContext)(v),c=s.host_gets_trivia_question,i=s.host_ends_trivia_round,j=s.triviaQuestion,b=s.triviaAnswer,d=s.setTriviaAnswer,h=s.student_submit_trivia_answer,u=s.hasSubmittedTrivia,x=s.setHasSubmittedTrivia,O=s.submittedTriviaAnswers,m=s.myTeamId,f={m:"20px",p:"10px"};return t?Object(l.jsxs)(o.a,{children:[Object(l.jsx)(o.a,{sx:f,children:j&&Object(l.jsxs)(o.a,{sx:f,children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Trivia Question: ".concat(j.Question)}),Object(l.jsx)("br",{}),Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Option 1: ".concat(j.Option1)}),Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Option 2: ".concat(j.Option2)}),j.Option3&&Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Option 3: ".concat(j.Option3)}),j.Option4&&Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Option 4: ".concat(j.Option4)}),Object(l.jsx)("br",{})]})}),Object(l.jsx)(o.a,{align:"center",children:Object(l.jsxs)(J.a,{variant:"text","aria-label":"text button group",children:[Object(l.jsx)(N.a,{align:"center",variant:"contained",onClick:function(){i()},children:"End Trivia Round"}),Object(l.jsx)(N.a,{variant:"contained",onClick:function(){c()},children:"Next Trivia Question"})]})}),j&&Object(l.jsx)(X,{})]}):Object(l.jsx)(o.a,{children:Object(l.jsx)(o.a,{sx:f,children:j?Object(l.jsxs)(o.a,{sx:f,children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Trivia Question: ".concat(j.Question)}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(w.a,{fullWidth:!0,children:[Object(l.jsx)(A.a,{id:"trivia-answer-label",children:"Options"}),Object(l.jsxs)(E.a,{labelId:"trivia-answer-label",id:"trivia-select",value:b,label:"TriviaAnswer",onChange:function(e){d(e.target.value)},children:[Object(l.jsx)(F.a,{value:j.Option1,children:j.Option1}),Object(l.jsx)(F.a,{value:j.Option2,children:j.Option2}),j.Option3&&Object(l.jsx)(F.a,{value:j.Option3,children:j.Option3}),j.Option3&&Object(l.jsx)(F.a,{value:j.Option4,children:j.Option4})]})]}),Object(l.jsx)("br",{})," ",Object(l.jsx)("br",{}),n?Object(l.jsxs)(o.a,{children:[Object(l.jsx)(r.a,{children:"You are the current team leader, discuss with your team before submitting your answer."}),Object(l.jsx)(N.a,{disabled:u,align:"center",variant:"contained",onClick:function(){return h(),void x(!0)},children:"Submit Answer"})]}):Object(l.jsx)(r.a,{children:"You are not the current team leader, discuss with your team to help your team leader pick the right answer."}),O[m]&&Object(l.jsx)(X,{})]}):Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Waiting for a trivia question..."})})})},$=n(215),ee=function(e){Object(h.a)(e);var t=Object(a.useContext)(v).boughtDefenses,n=Object(k.a)((function(e){return{headerStyling:{fontWeight:700,fontSize:"16px"}}}))();return Object(l.jsx)(o.a,{children:Object(l.jsx)(z.a,{style:{border:"1px solid #D3D3D3",borderRadius:"5px",marginTop:"20px"},children:Object(l.jsxs)(U.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(l.jsx)(Y.a,{style:{backgroundColor:"#FAF9F6"},children:Object(l.jsxs)(P.a,{children:[Object(l.jsx)(q.a,{className:n.headerStyling,children:"Team"}),Object(l.jsx)(q.a,{align:"right",sx:{minWidth:300},className:n.headerStyling,children:"Bought Defenses"})]})}),Object(l.jsx)(K.a,{children:t.map((function(e,t){return Object(l.jsxs)(P.a,{children:[Object(l.jsxs)(q.a,{component:"th",scope:"child",children:["Team ",t+1]}),Object(l.jsx)(q.a,{align:"right",children:e.map((function(e){return Object(l.jsx)($.a,{title:e.defenseDescritpion,arrow:!0,placement:"right-end",children:Object(l.jsx)(r.a,{children:e.defenseName})})}))})]},t+1)}))})]})})})},te=n(206),ne=n(207),ae=function(e){var t=e.initialSeconds,n=e.resetTimer,s=e.setResetTimer,c=Object(a.useState)(t),i=Object(g.a)(c,2),j=i[0],b=i[1];return Object(a.useEffect)((function(){n&&(b(t),s(!1))}),[n]),Object(a.useEffect)((function(){var e=setInterval((function(){j>0&&b(j-1),0===j&&clearInterval(e)}),1e3);return function(){clearInterval(e)}})),Object(l.jsx)(o.a,{children:0===j?null:Object(l.jsxs)(r.a,{align:"center",variant:"h5",children:[" Timer: ",j<10?"0".concat(j):j," "]})})},se=function(e){var t=e.isHost,n=Object(a.useContext)(v),s=n.roundCount,c=n.nbOfRounds,i=n.timeForEachRound,j=n.resetTimer,b=n.setResetTimer,d=n.rolledAttack,h=n.selectedDefenses,u=n.defensesToSubmit,x=n.setDefensesToSubmit,O=n.hasSubmittedDefenses,m=n.setHasSubmittedDefenses,p=n.isTeamLeader,y=n.host_start_next_defense_round,S=n.host_end_game,T=n.student_play_defenses,D=n.nbOfDefenses,_=Object(a.useState)(0),C=Object(g.a)(_,2),w=C[0],A=C[1],E=Object(k.a)((function(e){return{activeCellStyling:{fontWeight:600,color:"white",backgroundColor:"#088F8F",fontSize:"16px",padding:"10px",margin:"10px"},typographyStyling:{fontSize:"20px",padding:"10px",margin:"10px"}}}))();return Object(l.jsxs)(o.a,{children:[p?Object(l.jsxs)(r.a,{gutterBottom:!0,className:E.activeCellStyling,children:["Team Lead"," "]}):Object(l.jsx)(r.a,{className:E.activeCellStyling,children:"Team Mate"}),Object(l.jsx)(ae,{initialSeconds:i,resetTimer:j,setResetTimer:b}),Object(l.jsx)(Q,{}),Object(l.jsx)(o.a,{children:Object(l.jsx)(te.a,{style:{marginTop:"15px",marginBottom:"20px"},children:Object(l.jsxs)(ne.a,{children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Attack Name: ".concat(d.Name," ")}),Object(l.jsx)(r.a,{align:"center",variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Attack Description: ".concat(d.Description," ")})]})})}),t?Object(l.jsx)(o.a,{align:"center",children:Object(l.jsxs)(J.a,{variant:"text","aria-label":"text button group",children:[Object(l.jsx)(N.a,{align:"center",variant:"contained",onClick:function(){S()},children:"End Game"}),s<c&&Object(l.jsx)(N.a,{variant:"contained",onClick:function(){b(!0),y()},children:"Next Round"})]})}):Object(l.jsxs)(o.a,{children:[Object(l.jsxs)(r.a,{className:E.typographyStyling,children:["Select up to ",D," defenses to play:"]}),Object(l.jsx)(I.a,{container:!0,spacing:2,children:h.map((function(e){return Object(l.jsx)(I.a,{item:!0,children:Object(l.jsx)(N.a,{variant:"contained",size:"large",color:"blue",onClick:function(){return function(e,t,n){if(!u.some((function(t){return t.defenseID===e})))if(w<D){A(w+1);var a={defenseName:t,defenseID:e,defenseDescription:n};x([].concat(Object(f.a)(u),[a]))}else{var s={defenseName:t,defenseID:e,defenseDescription:n};x([].concat(Object(f.a)(u.slice(1)),[s]))}}(e.defenseID,e.defenseName,e.defenseDescritpion)},children:Object(l.jsx)(r.a,{variant:"h7",align:"center",color:"text.secondary",gutterBottom:!0,children:e.defenseName})})})}))}),Object(l.jsxs)(o.a,{children:[Object(l.jsx)(o.a,{sx:{marginTop:"25px",marginBottom:"5px"},children:Object(l.jsx)(r.a,{children:"Selected Defense: "})}),Object(l.jsx)(te.a,{children:Object(l.jsx)(o.a,{sx:{margin:"15px",minHeight:"50px"},children:u.map((function(e){return Object(l.jsx)(r.a,{children:e.defenseName})}))})})]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),p?Object(l.jsx)(o.a,{children:Object(l.jsx)(r.a,{children:"You are the current team leader, discuss with your team before submitting your defenses."})}):Object(l.jsx)(r.a,{children:"You are not the current team leader, discuss with your team to help your team leader pick appropriate defenses."}),Object(l.jsx)(N.a,{disabled:!p||O,variant:"contained",onClick:function(){return m(!0),void T()},style:{marginTop:"15px",marginBottom:"15px"},children:"Submit"})]})]})},ce=function(e){Object(h.a)(e);var t=Object(a.useContext)(v),n=t.playedDefenses,s=t.bestDefenses,c=Object(k.a)((function(e){return{headerStyling:{fontWeight:700,fontSize:"16px",backgroundColor:"#FAF9F6"}}}))();return Object(l.jsx)(o.a,{children:Object(l.jsx)(z.a,{style:{border:"1px solid #D3D3D3",borderRadius:"5px",marginTop:"15px"},children:Object(l.jsxs)(U.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(l.jsx)(Y.a,{children:Object(l.jsxs)(P.a,{children:[Object(l.jsx)(q.a,{className:c.headerStyling,children:"Team"}),Object(l.jsx)(q.a,{align:"right",sx:{minWidth:300},className:c.headerStyling,children:"Played Defenses"})]})}),Object(l.jsxs)(K.a,{children:[Object(l.jsxs)(P.a,{children:[Object(l.jsx)(q.a,{component:"th",scope:"child",children:"Best Defenses"}),Object(l.jsx)(q.a,{align:"right",children:s.map((function(e){return Object(l.jsx)($.a,{title:e.Description,arrow:!0,placement:"right-end",children:Object(l.jsx)(r.a,{children:"".concat(e.Name," = ").concat(e.PointValue," Points")})})}))})]},"correctAnswer"),n.map((function(e,t){return Object(l.jsxs)(P.a,{children:[Object(l.jsxs)(q.a,{component:"th",scope:"child",children:["Team ",t+1]}),Object(l.jsx)(q.a,{align:"right",children:e.map((function(e){return s.some((function(t){return t.Name===e.defenseName}))?Object(l.jsx)($.a,{title:e.defenseDescription,arrow:!0,placement:"right-end",children:Object(l.jsxs)(r.a,{style:{color:"red"},children:[e.defenseName," \u2713"]})}):Object(l.jsx)($.a,{title:e.defenseDescription,arrow:!0,placement:"right-end",children:Object(l.jsx)(r.a,{children:e.defenseName})})}))})]},t+1)}))]})]})})})},ie=function(e){Object(h.a)(e);var t=Object(a.useContext)(v),n=t.lobbyId,s=t.hasTriviaRound,c=t.gameStage,i=t.host_start_game,j=t.boughtDefenses,b=t.host_start_next_defense_round,d=t.host_gets_trivia_question,u=Object(a.useState)(!1),x=Object(g.a)(u,2),O=x[0],m=x[1],f={m:"20px",p:"10px"};a.useEffect((function(){var e=!0;j.forEach((function(t){0===t.length&&(e=!1)})),0===j.length&&(e=!1),m(e)}),[j]);return"CONFIG"===c?Object(l.jsx)(M,{}):"WAITING"===c?Object(l.jsxs)(o.a,{sx:f,children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Lobby created, use code ".concat(n," to join.")}),Object(l.jsx)(L,{}),Object(l.jsxs)(o.a,{sx:f,children:[Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),s?Object(l.jsx)(N.a,{variant:"contained",onClick:function(){d(),i()},children:"Start Game (Trivia Round)"}):Object(l.jsx)(N.a,{variant:"contained",onClick:function(){i()},children:"Start Game (Buy Defense Phase)"})]})]}):"TRIVIA"===c?Object(l.jsx)(Z,{isHost:!0,isTeamLeader:!1}):"BUY_DEFENSE"===c?Object(l.jsxs)(o.a,{children:[O?Object(l.jsxs)(o.a,{children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Teams have finished buying defenses."}),Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"You can start whenever you see fit."})]}):Object(l.jsxs)(o.a,{children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Students are buying defenses..."}),Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Meanwhile, you can view each team's purchased defenses once a team finishes their purchase."})]}),Object(l.jsx)(o.a,{textAlign:"center",children:Object(l.jsx)(N.a,{variant:"contained",align:"center",onClick:function(){b()},children:"Start Game"})}),Object(l.jsx)(ee,{})]}):"DEFEND_ATTACK"===c?Object(l.jsxs)(o.a,{children:[Object(l.jsx)(se,{isHost:!0}),Object(l.jsx)(ce,{})]}):"GAME_END"===c?Object(l.jsxs)(o.a,{children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"This game session is over."}),Object(l.jsx)(Q,{})]}):void 0},re=n(96),oe=n(160),le=n(208),je=n(209),be=n(213),de=function(e){Object(h.a)(e);var t=Object(a.useContext)(v),n=(t.alias,t.myTeamId),s=t.isTeamLeader,c=t.userEarnings,i=t.setUserEarnings,j=t.userDefenses,b=t.setUserDefenses,d=t.selectedDefenses,u=t.setSelectedDefenses,x=t.boughtDefenses,O=t.setGameStage,m=t.student_buy_defenses,p=t.chat_sendToTeam,y=Object(a.useState)({}),S=Object(g.a)(y,2),T=S[0],D=S[1],_=Object(a.useState)("Alphabetical"),C=Object(g.a)(_,2),I=C[0],A=C[1],L=function(e,t,n,a,s,r){var o=Object(re.a)({},T);if(o[s]=e,D(o),!e&&d.length>0&&c>=0)d.map((function(e,n){e.defenseName===t&&function(e,t){var n=[].concat(Object(f.a)(d.slice(0,e)),Object(f.a)(d.slice(e+1,d.length)));u(n),i(c+t)}(n,e.defenseCost)}));else if(e&&d.length>=0&&c>0){var l={defenseName:t,defenseCost:n,defenseID:s,defenseDescritpion:r,done:e};u([].concat(Object(f.a)(d),[l])),i(c-n)}};a.useEffect((function(){0!==x.length&&0!==x[n].length&&O("DONE_BUYING")}),[x]),a.useEffect((function(){if("Alphabetical"===I){var e=Object(f.a)(j).sort((function(e,t){return e.Name<t.Name?-1:e.Name>t.Name?1:0}));b(e)}if("CostLowToHigh"===I){var t=Object(f.a)(j).sort((function(e,t){return e.cost<t.cost?-1:e.cost>t.cost?1:0}));b(t)}if("CostHighToLow"===I){var n=Object(f.a)(j).sort((function(e,t){return e.cost>t.cost?-1:e.cost<t.cost?1:0}));b(n)}}),[I]);var R=Object(k.a)((function(e){return{headerStyling:{fontWeight:700,fontSize:"16px",backgroundColor:"#FAF9F6"},activeCellStyling:{fontWeight:600,color:"white",backgroundColor:"#088F8F",fontSize:"16px"}}}))();return Object(l.jsxs)(o.a,{sx:{p:6,minWidth:"85%"},children:[s?Object(l.jsxs)(r.a,{gutterBottom:!0,className:R.activeCellStyling,children:["Team Lead"," "]}):Object(l.jsx)(r.a,{lassName:R.activeCellStyling,children:"Team Mate"}),Object(l.jsx)(te.a,{children:Object(l.jsx)(ne.a,{children:s?Object(l.jsx)(r.a,{gutterBottom:!0,children:"You are the current team leader of team ".concat(n+1,", discuss with your team to decide what defenses to buy!")}):Object(l.jsx)(r.a,{children:"You are not the current team leader of team ".concat(n+1,", discuss with your team to help your team leader decide what defenses to buy!")})})}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(w.a,{size:"medium",children:[Object(l.jsxs)(E.a,{fontFamily:"arial",labelId:"select-sortby-label",id:"select-sortby",value:I,label:"Sort By",onChange:function(e){return A(e.target.value)},children:[Object(l.jsx)(F.a,{value:"Alphabetical",children:"Alphabetical"}),Object(l.jsx)(F.a,{value:"CostLowToHigh",children:"Cost (Lowest to Highest)"}),Object(l.jsx)(F.a,{value:"CostHighToLow",children:"Cost (Highest to Lowest)"})]}),Object(l.jsx)(oe.a,{children:"Sort By"})]}),Object(l.jsxs)(r.a,{variant:"h7",color:"text.secondary",gutterBottom:!0,style:{marginLeft:"15px"},children:["Earnings:$",c]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(z.a,{style:{border:"1px solid #D3D3D3",borderRadius:"5px",height:"75vh",overflow:"auto"},children:Object(l.jsxs)(U.a,{sx:{minWidth:500},"aria-label":"custom pagination table",stickyHeader:!0,children:[Object(l.jsx)(Y.a,{children:Object(l.jsxs)(P.a,{children:[Object(l.jsx)(q.a,{className:R.headerStyling,children:"Defenses"}),Object(l.jsx)(q.a,{align:"right",className:R.headerStyling,children:"Cost"}),Object(l.jsx)(q.a,{align:"right",className:R.headerStyling,children:"Submission"})]})}),Object(l.jsx)(K.a,{children:j.map((function(e,t){return Object(l.jsx)($.a,{title:e.Description,arrow:!0,placement:"right-end",children:Object(l.jsxs)(P.a,{className:T[e.DefenseID]?R.activeCellStyling:"none",children:[Object(l.jsx)(q.a,{component:"th",scope:"row",className:T[e.DefenseID]?R.activeCellStyling:"none",children:e.Name}),Object(l.jsx)(q.a,{style:{width:160},align:"right",className:T[e.DefenseID]?R.activeCellStyling:"none",children:e.cost}),Object(l.jsx)(q.a,{style:{width:160},align:"right",children:Object(l.jsx)(w.a,{component:"fieldset",variant:"standard",children:Object(l.jsx)(le.a,{children:Object(l.jsx)(je.a,{control:Object(l.jsx)(be.a,{onChange:function(t){return L(t.target.checked,e.Name,e.cost,0,e.DefenseID,e.Description)},disabled:e.cost>c&&!T[e.DefenseID],checked:T[e.DefenseID]},e.label)})})})})]},e.Name)})}))})]})}),Object(l.jsx)("br",{}),s?Object(l.jsxs)(o.a,{sx:{fontStyle:"italic"},children:[Object(l.jsx)(N.a,{variant:"contained",onClick:function(){return O("DONE_BUYING"),void m()},children:"Submit"}),Object(l.jsxs)(r.a,{children:["You are the team leader, hear your teammate's input first before making a decision!"," "]})]}):Object(l.jsxs)(o.a,{sx:{fontStyle:"italic"},children:[Object(l.jsx)(N.a,{variant:"contained",onClick:function(){return function(){var e="suggests buying the following defenses: ";d.map((function(t,n){e+=t.defenseName,n<d.length-1&&(e+=", ")})),p(e)}()},children:"Share Selected Defenses to Team Chat"}),Object(l.jsxs)(r.a,{children:["Only team leader can buy defenses, but you can share your input by selecting defenses you think the team should buy and using the above button to share!"," "]})]})]})},he=function(e){Object(h.a)(e);var t=Object(a.useContext)(v).teamInfo,n=Object(k.a)((function(e){return{gridStyling:{boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",borderRadius:"5px",position:"relative",margin:"20px"},typographyStyling:{fontSize:"19px",margin:"15px"},headerStyling:{backgroundColor:"#FAF9F6",borderTop:1,borderRight:1,borderLeft:1,border:"1px solid #D3D3D3"},playerStyling:{borderBottom:1,borderRight:0,borderLeft:0,border:"1px solid #D3D3D3",padding:4,alignItems:"center",justifyContent:"center"}}}))();return Object(l.jsx)(o.a,{children:t.map((function(e,t){return Object(l.jsxs)(I.a,{container:!0,className:n.gridStyling,children:[Object(l.jsx)(I.a,{item:!0,xs:12,align:"center",className:n.headerStyling,children:Object(l.jsxs)(r.a,{className:n.typographyStyling,children:["Team ",t+1]})}),e.map((function(e){return Object(l.jsx)(I.a,{item:!0,xs:12,className:n.playerStyling,children:Object(l.jsx)(r.a,{className:n.typographyStyling,children:e.alias})})}))]})}))})},ue=Q,xe=function(e){Object(h.a)(e);var t=Object(a.useContext)(v),n=t.gameStage,s=t.isTeamLeader,c=t.playedDefenses,i=t.myTeamId;return"CONFIG"===n?Object(l.jsxs)(o.a,{children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Loading..."}),";"]}):"WAITING"===n?Object(l.jsxs)(o.a,{children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Waiting for host to start game..."}),Object(l.jsx)(he,{})]}):"TRIVIA"===n?Object(l.jsx)(Z,{isHost:!1,isTeamLeader:s}):"BUY_DEFENSE"===n?Object(l.jsx)(de,{}):"DONE_BUYING"===n?Object(l.jsxs)(o.a,{children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Waiting for the host to start game..."}),Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"Meanwhile, you can view each team's purchased defenses."}),Object(l.jsx)(ee,{})]}):"DEFEND_ATTACK"===n?Object(l.jsxs)(o.a,{children:[Object(l.jsx)(se,{isHost:!1}),0!==c[i].length&&Object(l.jsx)(ce,{})]}):"GAME_END"===n?Object(l.jsxs)(o.a,{children:[Object(l.jsx)(r.a,{align:"center",variant:"h6",children:"This game session is over."}),Object(l.jsx)(ue,{})]}):void 0},Oe=(Object(B.a)({palette:{primary:{main:"#F5F5F5"},secondary:{main:"#DCDCDC"}},typography:{}}),function(e){e.children;var t=Object(a.useContext)(v),n=t.setLobbyId,s=t.setIsInLobby,c=t.setIsHost,i=t.setAlias,j=(t.setGameStage,t.student_join_lobby);return Object(l.jsxs)(o.a,{sx:{fontFamily:"Titillium Web",backgroundColor:"#DCDCDC",border:"1px solid black",borderRadius:"20px",p:6,align:"center",alignItems:"center",position:"absolute",width:400,top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"flex",flexDirection:"column"},boxShadow:3,children:[Object(l.jsxs)(o.a,{component:"form",onSubmit:function(){j(),s(!0)},children:[Object(l.jsx)(r.a,{variant:"h5",children:"Join a lobby"}),Object(l.jsx)(R.a,{margin:"normal",required:!0,fullWidth:!0,label:"Lobby ID",autoFocus:!0,onChange:function(e){return t=e.target.value,void n(t.trim());var t}}),Object(l.jsx)(R.a,{margin:"normal",required:!0,fullWidth:!0,label:"Name",onChange:function(e){return i(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)(N.a,{type:"submit",variant:"contained",fullWidth:!0,children:"Join"})]}),Object(l.jsx)("br",{}),Object(l.jsx)(r.a,{children:"Or"}),Object(l.jsx)("br",{}),Object(l.jsx)(N.a,{type:"button",variant:"contained",fullWidth:!0,onClick:function(){s(!0),c(!0),i("Host")},children:"Create A Lobby"})]})}),me=n(195),fe=n(159),ge=n(211),pe=n(210),ye=function(e){Object(h.a)(e);var t=Object(a.useContext)(v),n=t.chatMessagesAll,c=t.chatMessagesTeam,i=t.chat_sendToAll,j=t.chat_sendToTeam,b=t.hideAllChat,u=t.hideTeamChat,x=t.isHost,O=Object(a.useState)("allPlayer"),m=Object(g.a)(O,2),f=m[0],p=m[1],y=Object(a.useState)(""),S=Object(g.a)(y,2),T=S[0],D=S[1],_=Object(a.useState)(""),C=Object(g.a)(_,2),N=C[0],L=C[1],B=s.a.createRef(),W=function(){B.current.scrollIntoView({behavior:"smooth"})},H=Object(k.a)((function(e){return{textFieldStyling:{marginBottom:"15px",marginLeft:"15px"},typographyStyling:{fontWeight:600,fontSize:"19px",margin:"15px"},buttonStyling:{marginTop:"25px",border:"1px solid #D3D3D3 ",position:"absolute",right:"15px",bottom:"10px"},headerStyling:{backgroundColor:"#FAF9F6",borderTop:1,borderRight:1,borderLeft:1,border:"1px solid #D3D3D3"},chatMessageUserNameStyling:{fontWeight:600,color:"#71797E"}}}))();return Object(l.jsx)(o.a,{align:"center",position:"absolute",top:"0px",left:"1%",children:!b&&Object(l.jsxs)(I.a,{container:!0,style:{boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",borderRadius:"5px",position:"relative",width:"400px"},children:[Object(l.jsx)(I.a,{item:!0,xs:12,align:"center",className:H.headerStyling,children:x||u?Object(l.jsx)(r.a,{className:H.typographyStyling,children:"Chat Box All"}):Object(l.jsxs)(o.a,{display:"flex",marginX:"30px",children:[Object(l.jsxs)(w.a,{children:[Object(l.jsx)(A.a,{id:"selectChatType",children:"*"}),Object(l.jsxs)(E.a,{fontFamily:"arial",labelId:"selectChatType",id:"selectChatType",onChange:function(e){return p(e.target.value)},children:[Object(l.jsx)(F.a,{value:"allPlayer",children:" All players"}),Object(l.jsx)(F.a,{value:"team",children:"Team"})]})]}),Object(l.jsxs)(r.a,{className:H.typographyStyling,children:["Chat with ","allPlayer"===f?" All Players":"Team"]})]})}),"allPlayer"===f?Object(l.jsxs)(a.Fragment,{children:[Object(l.jsx)(I.a,{item:!0,xs:12,children:Object(l.jsxs)(me.a,{id:"ChatBoxMessagesAll",style:{maxHeight:"200px",width:"100%",overflow:"scroll",alignItems:"start",minHeight:"25vh"},children:[n&&{chatMessagesAll:n}.chatMessagesAll.map((function(e){return Object(l.jsx)("ul",{children:Object(l.jsx)(fe.a,{style:{width:"100%"},children:Object(l.jsx)(ge.a,{primary:Object(l.jsxs)(r.a,{className:H.chatMessageUserNameStyling,children:[e.alias,":"]}),secondary:Object(l.jsx)(r.a,{children:e.message})})})})})),Object(l.jsx)("div",{ref:B})]})}),Object(l.jsxs)(o.a,{display:"flex",id:"allChatBox",children:[Object(l.jsx)(R.a,{value:N,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("allChatButton").click())},onChange:function(e){L(e.target.value)},variant:"standard",label:"Send message all",className:H.textFieldStyling}),Object(l.jsx)(pe.a,{id:"allChatButton",onClick:function(){i(N),L(""),W()},size:"small",className:H.buttonStyling,children:Object(l.jsx)(d,{})})]})]}):Object(l.jsxs)(a.Fragment,{children:[Object(l.jsx)(I.a,{item:!0,xs:12,children:Object(l.jsxs)(me.a,{id:"ChatBoxMessagesTeam",style:{maxHeight:"200px",width:"100%",overflow:"scroll",alignItems:"start",minHeight:"25vh"},children:[c&&{chatMessagesTeam:c}.chatMessagesTeam.map((function(e){return Object(l.jsx)("ul",{children:Object(l.jsx)(fe.a,{style:{display:"flex ",marginLeft:"15px"},children:Object(l.jsx)(ge.a,{primary:Object(l.jsxs)(r.a,{className:H.chatMessageUserNameStyling,children:[e.alias,":"]}),secondary:Object(l.jsx)(r.a,{children:e.message})})})})})),Object(l.jsx)("div",{ref:B})]})}),Object(l.jsxs)(o.a,{display:"flex",children:[Object(l.jsx)(R.a,{value:T,onKeyUp:function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("teamChatButton").click())},onChange:function(e){D(e.target.value)},variant:"standard",label:"Send message team",className:H.textFieldStyling}),Object(l.jsx)(pe.a,{id:"teamChatButton",onClick:function(){j(T),D(""),W()},size:"small",className:H.buttonStyling,children:Object(l.jsx)(d,{})})]})]})]})})};var ve=function(){var e=Object(a.useContext)(v),t=e.isHost,n=e.isInLobby;return Object(C.a)({root:{fontWeight:600,color:"#088F8F"}})(r.a),Object(l.jsxs)(_,{children:[Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),n?Object(l.jsxs)(o.a,{sx:{display:"flex",margin:"15px",position:"relative"},children:[Object(l.jsx)(o.a,{sx:{width:"75vw",height:"75vh",margin:"15px",padding:"20px"},children:t?Object(l.jsx)(ie,{}):Object(l.jsx)(xe,{})}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(o.a,{sx:{width:"35vw",position:"sticky",top:"15px",margin:"5px"},children:Object(l.jsx)(ye,{})})]}):Object(l.jsx)(Oe,{}),Object(l.jsx)("br",{})]})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(S,{children:Object(l.jsx)(ve,{})})}),document.getElementById("root")),Se()}},[[152,1,2]]]);
//# sourceMappingURL=main.4c3910c1.chunk.js.map
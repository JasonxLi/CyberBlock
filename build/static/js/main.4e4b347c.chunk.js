(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(11),r=c.n(s),j=(c(94),c(137)),i=c(183),b=c(167),l=c(2),o=function(){return Object(l.jsx)("svg",{width:"150px",height:"50px",viewBox:"0 0 35 15 ",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{d:"m8.884 3.295c-.047-.582-.35-.923-.962-.923-.565 0-.914.357-.976.923zm.914.217c0 .186-.015.38-.046.535h-2.79c.1.465.495.752 1.24.752h.01l.007-.001a3.128 3.128 0 0 0 .212-.01l.058-.004a2.7 2.7 0 0 0 .874-.241l.064-.031c.055-.028.108-.058.16-.089h.024v.785c-.408.247-.887.39-1.4.39v-.003l-.055.002c-1.404 0-2.171-.798-2.171-1.961 0-1.248.79-2.07 1.938-2.07s1.876.814 1.876 1.946m-9.667 2.007h.954l.178-3.34.039-.907h.015l.202.907.775 3.34h1.195l.783-3.34.193-.907h.016l.039.907.186 3.34h.992l-.327-5.348h-1.58l-.714 3.21-.155.813h-.015l-.163-.814-.713-3.209h-1.582zm16.41.078c-.89 0-1.395-.41-1.395-1.34v-1.83h-1.07v1.945c0 .287.11.403.342.403.054 0 .116 0 .186-.015h.023v.76a2.082 2.082 0 0 1 -.418.046c-.528 0-.853-.201-.993-.643-.279.434-.72.674-1.27.674-.985 0-1.784-.767-1.784-2.023 0-1.24.799-2.008 1.783-2.008.488 0 .892.186 1.17.527v-1.922h.962v1.473h1.07v-.924h.96v.923h1.032v.783h-1.031v1.784c0 .387.193.573.566.573.17 0 .286-.015.441-.054h.024v.79a2.625 2.625 0 0 1 -.597.078m-4.395-.814c.65 0 1.015-.503 1.015-1.209 0-.698-.364-1.202-1.015-1.202-.66 0-1 .504-1 1.202 0 .706.34 1.21 1 1.21m6.38-1.295c0-.628.325-.977.945-.977.108 0 .225.015.333.047h.016v-.9a1.087 1.087 0 0 0 -.38-.062c-.465 0-.775.287-.954.752v-.705h-.922v3.876h.961zm3.348 2.108c-1.217 0-2.039-.884-2.039-2.015s.822-2.016 2.04-2.016c1.208 0 2.03.884 2.03 2.016s-.822 2.015-2.03 2.015m0-.83c.689 0 1.045-.503 1.045-1.185s-.356-1.186-1.046-1.186c-.674 0-1.054.503-1.054 1.186s.38 1.186 1.054 1.186m3.506-1.411c0-.597.302-.985.86-.985.55 0 .807.365.807.985v2.163h.96v-2.202c0-.93-.48-1.752-1.526-1.752-.558 0-.93.28-1.14.698v-.62h-.922v3.876h.961zm4.325-2.659c0 .31-.248.574-.573.574a.57.57 0 1 1 .573-.574m.536 4.822a2.392 2.392 0 0 1 -.473.054c-.737 0-1.132-.388-1.132-1.1v-2.83h.969v2.76c0 .255.124.38.388.38.061 0 .139-.009.224-.024h.024zm.092-1.938c0-1.132.822-2.016 2.047-2.016.349 0 .744.086 1.039.248v.853h-.024a1.8 1.8 0 0 0 -.945-.264c-.737 0-1.132.504-1.132 1.179s.395 1.178 1.132 1.178a1.8 1.8 0 0 0 .945-.264h.024v.853c-.295.163-.69.248-1.04.248-1.224 0-2.046-.884-2.046-2.015",fill:"#224a87"})})},d=function(e){var t=e.children;return Object(l.jsxs)(i.a,{sx:{overflow:"auto",positon:"relative"},children:[Object(l.jsxs)(i.a,{sx:{p:"2rem"},children:[Object(l.jsx)(o,{}),Object(l.jsx)(b.a,{})]}),t]})},u=c(134),O=c(7),h=c(80),x=c(176),f=c(13),v=c(81),m=c.n(v).a.connect("https://cyberblock.herokuapp.com/"),g=Object(n.createContext)({}),p=function(e){var t,c=e.children,a=Object(n.useState)([]),s=Object(O.a)(a,2),r=s[0],j=s[1],i=Object(n.useState)(!1),b=Object(O.a)(i,2),o=b[0],d=b[1],u=Object(n.useState)(30),h=Object(O.a)(u,2),x=h[0],v=h[1],p=Object(n.useState)(""),y=Object(O.a)(p,2),C=y[0],_=y[1],I=Object(n.useState)(""),S=Object(O.a)(I,2),k=S[0],R=S[1],D=Object(n.useState)(""),T=Object(O.a)(D,2),B=T[0],E=T[1],L=Object(n.useState)(!1),w=Object(O.a)(L,2),N=w[0],P=w[1],A=Object(n.useState)(!1),W=Object(O.a)(A,2),F=W[0],z=W[1],H=Object(n.useState)(!1),Y=Object(O.a)(H,2),J=Y[0],M=Y[1],U=Object(n.useState)([]),G=Object(O.a)(U,2),K=G[0],V=G[1],$=Object(n.useState)([]),q=Object(O.a)($,2),Q=q[0],X=q[1],Z=Object(n.useState)(0),ee=Object(O.a)(Z,2),te=ee[0],ce=ee[1],ne=Object(n.useState)([]),ae=Object(O.a)(ne,2),se=ae[0],re=ae[1],je=Object(n.useState)([]),ie=Object(O.a)(je,2),be=ie[0],le=ie[1],oe=Object(n.useState)(0),de=Object(O.a)(oe,2),ue=de[0],Oe=de[1];Object(n.useEffect)((function(){m.on("new_student_joined_lobby",(function(e){re(e)})),m.on("host_moved_student",(function(e){re(e)})),m.on("receive_roll",(function(e){R(e)})),m.on("receive_defense_cards",(function(e){V(e),M(!0)}))}),[m]);var he=function(e,t,c,n,a,s){m.emit("host_create_lobby",{nbOfTeams:e,nbOfRounds:t,nbOfDefenses:c,timeForEachRound:n,hasTriviaRound:a,difficulty:s},(function(e){_(e),z(!0),P(!0)}))};return m.on("receive_point_table",(function(e){X(e)})),Object(l.jsx)(g.Provider,{value:(t={selectedDefenses:r,setSelectedDefenses:j,endBuyPhase:o,setEndBuyPhase:d,userEarnings:x,setUserEarnings:v,lobbyId:C,setLobbyId:_,roll:function(e){m.emit("roll",e)},start_buy_phase:function(){m.emit("start_buy_phase",C)},rolledAttack:k,setRolledAttack:R,isInLobby:N,setIsInLobby:P,isHost:F,setIsHost:z,inBuyingPhase:J,userDefenses:K,pointTable:Q,host_create_lobby:he,student_join_lobby:function(){""!==C&&""!==B&&(m.emit("student_join_lobby",{lobbyId:C,alias:B},(function(e){})),P(!0))},nbOfRounds:te,setNbOfRounds:ce},Object(f.a)(t,"host_create_lobby",he),Object(f.a)(t,"setAlias",E),Object(f.a)(t,"alias",B),Object(f.a)(t,"teamInfo",se),Object(f.a)(t,"setTeamInfo",re),Object(f.a)(t,"host_move_student",(function(e,t,c,n){m.emit("host_move_student",{lobbyId:e,socketId:t,oldTeamId:c,newTeamId:n})})),Object(f.a)(t,"currentLead",be),Object(f.a)(t,"setCurrentLead",le),Object(f.a)(t,"roundCount",ue),Object(f.a)(t,"setRoundCount",Oe),t),children:c})},y=c(168),C=c(169),_=c(170),I=c(171),S=c(172),k=c(173),R=c(174),D=c(185),T=c(182),B=c(186),E=function(e){e.children;var t=Object(n.useContext)(g),c=t.teamInfo,a=t.host_move_student,s=t.lobbyId;return Object(l.jsx)(i.a,{children:Object(l.jsx)(y.a,{children:Object(l.jsxs)(C.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(l.jsx)(_.a,{children:Object(l.jsxs)(I.a,{children:[Object(l.jsx)(S.a,{children:"Team"}),Object(l.jsx)(S.a,{align:"right",sx:{minWidth:300},children:"Members"})]})}),c.map((function(e,t){return Object(l.jsx)(k.a,{children:Object(l.jsxs)(I.a,{children:[Object(l.jsxs)(S.a,{component:"th",scope:"child",children:["Team ",t+1]}),e.map((function(e){return Object(l.jsxs)(S.a,{align:"right",children:[e.alias,Object(l.jsxs)(R.a,{fullWidth:!0,children:[Object(l.jsx)(D.a,{id:"select-label-round",children:"Switch"}),Object(l.jsx)(T.a,{label:"Round",onChange:function(c){return n=c.target.value,r=e.socketId,void a(s,r,t,n);var n,r},children:c.map((function(e,t){return Object(l.jsx)(B.a,{value:t,children:t+1})}))})]})]})}))]},t+1)})}))]})})})},L=function(e){e.children;var t=e.setEndConfigurationPhase,c=Object(n.useContext)(g),a=c.setNbOfRounds,s=c.host_create_lobby,r=c.nbOfRounds,j=Object(n.useState)(1),b=Object(O.a)(j,2),o=b[0],d=b[1],u=Object(n.useState)(0),h=Object(O.a)(u,2),f=h[0],v=h[1],m=Object(n.useState)(!1),p=Object(O.a)(m,2),y=p[0],C=p[1],_=Object(n.useState)(2),I=Object(O.a)(_,2),S=I[0],k=I[1],E=Object(n.useState)(2),L=Object(O.a)(E,2),w=L[0];L[1];return Object(l.jsxs)(i.a,{sx:{m:"20px",p:"10px",maxWidth:140},children:[Object(l.jsxs)(R.a,{fullWidth:!0,children:[Object(l.jsx)(D.a,{id:"select-label-round",children:"Round"}),Object(l.jsxs)(T.a,{label:"Round",onChange:function(e){return a(e.target.value)},children:[Object(l.jsx)(B.a,{value:5,children:"5"}),Object(l.jsx)(B.a,{value:8,children:"8"}),Object(l.jsx)(B.a,{value:10,children:"10"})]})]}),Object(l.jsxs)(R.a,{fullWidth:!0,children:[Object(l.jsx)(D.a,{id:"select-label-difficulty",children:"Difficulty"}),Object(l.jsxs)(T.a,{label:"Difficulty",onChange:function(e){return d(e.target.value)},children:[Object(l.jsx)(B.a,{value:1,children:"Beginner"}),Object(l.jsx)(B.a,{value:2,children:"Intermediate"}),Object(l.jsx)(B.a,{value:3,children:"Expert"})]})]}),Object(l.jsxs)(R.a,{fullWidth:!0,children:[Object(l.jsx)(D.a,{id:"select-label-timeForEachRound",children:"Time per Round"}),Object(l.jsxs)(T.a,{label:"timeForEachRound",onChange:function(e){return v(e.target.value)},children:[Object(l.jsx)(B.a,{value:30,children:"30 secs"}),Object(l.jsx)(B.a,{value:60,children:"60 secs"}),Object(l.jsx)(B.a,{value:90,children:"90 secs"})]})]}),Object(l.jsxs)(R.a,{fullWidth:!0,children:[Object(l.jsx)(D.a,{id:"select-label-hasTriviaRound",children:" Trivia Rounds"}),Object(l.jsxs)(T.a,{label:"hasTriviaRound",onChange:function(e){return C(e.target.value)},children:[Object(l.jsx)(B.a,{value:2,children:"2"}),Object(l.jsx)(B.a,{value:5,children:"5"})]})]}),Object(l.jsxs)(R.a,{fullWidth:!0,children:[Object(l.jsx)(D.a,{id:"select-label-TeamNo",children:" No of teams"}),Object(l.jsxs)(T.a,{label:"nbOfTeams",onChange:function(e){return k(e.target.value)},children:[Object(l.jsx)(B.a,{value:2,children:"2"}),Object(l.jsx)(B.a,{value:3,children:"3"})]})]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(x.a,{variant:"contained",onClick:function(){t(!0),s(S,r,w,f,y,o)},children:"Submit "})]})},w=function(e){Object(h.a)(e);var t=Object(n.useContext)(g),c=t.lobbyId,a=t.roll,s=t.start_buy_phase,r=t.rolledAttack,b=t.nbOfRounds,o=t.roundCount,d=t.setRoundCount,u=Object(n.useState)(!1),f=Object(O.a)(u,2),v=(f[0],f[1]),m=Object(n.useState)(!1),p=Object(O.a)(m,2),y=p[0],C=p[1],_={m:"20px",p:"10px"};return Object(l.jsx)(i.a,{children:y?Object(l.jsxs)(i.a,{sx:_,children:[Object(l.jsx)(j.a,{align:"center",variant:"h6",children:"Lobby created, use code ".concat(c," to join.")}),Object(l.jsxs)(i.a,{sx:_,children:[Object(l.jsx)(x.a,{variant:"contained",onClick:function(){s(c)},children:"Start Game"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(x.a,{variant:"contained",onClick:function(){o!==b?(a(c),d(o+1)):v(!0)},children:"Roll Attack"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),""!==r&&Object(l.jsx)(j.a,{children:"You rolled ".concat(r.Name)}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(E,{})]}):Object(l.jsx)(L,{setEndConfigurationPhase:C})})},N=c(61),P=c(14),A=c(177),W=c(178),F=c(179),z=c(180),H=c(184),Y=function(e){var t=e.userDefenses,c=Object(n.useContext)(g),a=c.selectedDefenses,s=c.setSelectedDefenses,r=c.setEndBuyPhase,b=c.userEarnings,o=c.setUserEarnings,d=c.alias,u=c.teamInfo,h=c.currentLead,f=c.roundCount,v=c.nbOfRounds,m=c.setCurrentLead,p=0,D=Object(n.useState)(!1),T=Object(O.a)(D,2),B=T[0],E=(T[1],Object(n.useState)([])),L=Object(O.a)(E,2),w=L[0],Y=L[1],J=function(e,t,c,n,r){var j=Object(P.a)(w),i=Object(N.a)({},j[n]);if(i=e,j[n]=i,Y(j),!e&&a.length>0&&b>0)a.map((function(e,c){e.defenseName===t&&function(e,t){var c=[].concat(Object(P.a)(a.slice(0,e)),Object(P.a)(a.slice(e+1,a.length)));s(c),o(b+t)}(c,e.defenseCost)}));else if(e&&a.length>=0&&b>0){var l={defenseName:t,defenseCost:c,defenseID:r,done:e};s([].concat(Object(P.a)(a),[l])),o(b-c)}};return function(){var e=0,t=v/u.length;if(f%Math.ceil(t)===0){var c=Object(P.a)(h);u.map((function(t,n){var a=Object(N.a)({},c[n]);a=t[e].socketId,c[n]=a,console.log(c),m(c)})),e++}console.log(h),u.map((function(e,t){e.map((function(e){e.alias===d&&(p=t+1)}))}))}(),console.log(h),Object(l.jsxs)(i.a,{sx:{p:6,minWidth:"85%"},children:[Object(l.jsx)(A.a,{children:Object(l.jsxs)(W.a,{children:[Object(l.jsx)(j.a,{gutterBottom:!0,children:d}),Object(l.jsxs)(j.a,{gutterBottom:!0,children:["You are in Team ",p]}),B?Object(l.jsx)(j.a,{gutterBottom:!0,children:"You are the current leader"}):Object(l.jsx)(j.a,{})]})}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)(j.a,{variant:"h7",color:"text.secondary",gutterBottom:!0,children:["Earnings:$",b]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(y.a,{children:Object(l.jsxs)(C.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(l.jsx)(_.a,{children:Object(l.jsxs)(I.a,{children:[Object(l.jsx)(S.a,{children:"Defenses"}),Object(l.jsx)(S.a,{align:"right",children:"Cost"}),Object(l.jsx)(S.a,{align:"right",children:"Submission"})]})}),Object(l.jsx)(k.a,{children:t.map((function(e,t){return Object(l.jsxs)(I.a,{children:[Object(l.jsx)(S.a,{component:"th",scope:"row",children:e.Name}),Object(l.jsx)(S.a,{style:{width:160},align:"right",children:e.Cost}),Object(l.jsx)(S.a,{style:{width:160},align:"right",children:Object(l.jsx)(R.a,{component:"fieldset",variant:"standard",children:Object(l.jsx)(F.a,{children:Object(l.jsx)(z.a,{control:Object(l.jsx)(H.a,{onChange:function(c){return J(c.target.checked,e.Name,e.Cost,t,e.DefenseID)},disabled:e.Cost>b&&!w[t]||!!B,checked:w[t]},e.label)})})})})]},e.Name)}))})]})}),Object(l.jsx)("br",{}),Object(l.jsx)(x.a,{variant:"contained",onClick:function(){return r(!0)},children:"Submit"})]})},J=c(181),M=function(e){var t=e.rolledAttack,c=e.attackId,a=e.pointTable,s=Object(n.useContext)(g).selectedDefenses,r=Object(n.useState)(0),b=Object(O.a)(r,2),o=b[0],d=b[1];return Object(l.jsxs)(i.a,{sx:{m:"20px",p:"10px"},children:[Object(l.jsxs)(j.a,{color:"text.secondary",children:["Points:",o]}),Object(l.jsx)(i.a,{sx:{m:"30px"},children:Object(l.jsx)(A.a,{children:Object(l.jsx)(W.a,{children:Object(l.jsx)(j.a,{align:"center",variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Attack rolled: ".concat(t.Name," ")})})})}),Object(l.jsx)(J.a,{container:!0,spacing:8,children:s.map((function(e){return Object(l.jsx)(J.a,{item:!0,children:Object(l.jsx)(x.a,{variant:"contained",size:"large",color:"blue",onClick:function(){return t=e.defenseID,void a.map((function(e){e.Attack_ID===c&&e.Defense_ID===t&&d(o+e.PointValue)}));var t},children:Object(l.jsx)(j.a,{variant:"h7",align:"center",color:"text.secondary",gutterBottom:!0,children:e.defenseName})})})}))})]})},U=c(175),G=function(e){e.children;var t=Object(n.useContext)(g),c=t.setLobbyId,a=t.setIsInLobby,s=t.setIsHost,r=t.student_join_lobby,j=t.setAlias;return Object(l.jsxs)(i.a,{sx:{p:6,border:"1px solid black",borderRadius:"10px",width:250,align:"center",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[Object(l.jsx)(x.a,{variant:"contained",onClick:function(){a(!0),s(!0)},children:"Create Lobby"}),Object(l.jsx)("h4",{children:"or"}),Object(l.jsx)(U.a,{type:"text",placeholder:"Enter Lobby ID",onChange:function(e){return c(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(U.a,{type:"text",placeholder:"Enter Name",onChange:function(e){return j(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)(x.a,{variant:"contained",onClick:function(){return r()},children:"Join Lobby"})]})};var K=function(){var e=Object(n.useContext)(g),t=e.endBuyPhase,c=e.rolledAttack,a=e.isHost,s=e.isInLobby,r=e.inBuyingPhase,b=e.userDefenses,o=e.pointTable,O=Object(u.a)({root:{fontWeight:600,color:"#088F8F"}})(j.a);return Object(l.jsxs)(d,{children:[Object(l.jsx)(i.a,{align:"center",children:Object(l.jsx)(O,{variant:"h4",children:" CYBERBLOCK"})}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),s?a?Object(l.jsx)(w,{}):Object(l.jsx)(i.a,{children:r&&!t?Object(l.jsxs)(j.a,{children:[" ",Object(l.jsx)(Y,{userDefenses:b})," "]}):""!==c&&Object(l.jsx)(M,{rolledAttack:c,attackId:c.AttackID,pointTable:o})}):Object(l.jsx)(G,{})]})},V=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,188)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(p,{children:Object(l.jsx)(K,{})})}),document.getElementById("root")),V()},94:function(e,t,c){}},[[132,1,2]]]);
//# sourceMappingURL=main.4e4b347c.chunk.js.map